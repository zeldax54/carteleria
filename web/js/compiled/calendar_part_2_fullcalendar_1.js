/*!
 * FullCalendar v3.4.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(bz,a9){var C=bz.fullCalendar={version:"3.4.0",internalApiVersion:9};var ae=C.views={};bz.fn.fullCalendar=function(bP){var bO=Array.prototype.slice.call(arguments,1);var bQ=this;this.each(function(bT,bR){var bS=bz(bR);var bV=bS.data("fullCalendar");var bU;if(typeof bP==="string"){if(bV&&bz.isFunction(bV[bP])){bU=bV[bP].apply(bV,bO);if(!bT){bQ=bU}if(bP==="destroy"){bS.removeData("fullCalendar")}}}else{if(!bV){bV=new A(bS,bP);bS.data("fullCalendar",bV);bV.render()}}});return bQ};var ah=["header","footer","buttonText","buttonIcons","themeButtonIcons"];function aV(bO){return bK(bO,ah)}C.intersectRanges=g;C.applyAll=D;C.debounce=bf;C.isInt=bD;C.htmlEscape=aM;C.cssToStr=O;C.proxy=aH;C.capitaliseFirstLetter=s;function aw(bP,bO){if(bO.left){bP.css({"border-left-width":1,"margin-left":bO.left-1})}if(bO.right){bP.css({"border-right-width":1,"margin-right":bO.right-1})}}function M(bO){bO.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function bA(){bz("body").addClass("fc-not-allowed")}function au(){bz("body").removeClass("fc-not-allowed")}function af(bT,bS,bP){var bQ=Math.floor(bS/bT.length);var bO=Math.floor(bS-bQ*(bT.length-1));var bU=[];var bV=[];var bR=[];var bW=0;o(bT);bT.each(function(bY,bZ){var b0=bY===bT.length-1?bO:bQ;var bX=bz(bZ).outerHeight(true);if(bX<b0){bU.push(bZ);bV.push(bX);bR.push(bz(bZ).height())}else{bW+=bX}});if(bP){bS-=bW;bQ=Math.floor(bS/bU.length);bO=Math.floor(bS-bQ*(bU.length-1))}bz(bU).each(function(bZ,b0){var b2=bZ===bU.length-1?bO:bQ;var bY=bV[bZ];var b1=bR[bZ];var bX=b2-(bY-b1);if(bY<b2){bz(b0).height(bX)}})}function o(bO){bO.height("")}function Y(bO){var bP=0;bO.find("> *").each(function(bR,bS){var bQ=bz(bS).outerWidth();if(bQ>bP){bP=bQ}});bP++;bO.width(bP);return bP}function u(bO,bR){var bP=bO.add(bR);var bQ;bP.css({position:"relative",left:-1});bQ=bO.outerHeight()-bR.outerHeight();bP.css({position:"",left:""});return bQ}C.getOuterRect=ar;C.getClientRect=G;C.getContentRect=an;C.getScrollbarWidths=a;function br(bP){var bO=bP.css("position"),bQ=bP.parents().filter(function(){var bR=bz(this);return(/(auto|scroll)/).test(bR.css("overflow")+bR.css("overflow-y")+bR.css("overflow-x"))}).eq(0);return bO==="fixed"||!bQ.length?bz(bP[0].ownerDocument||document):bQ}function ar(bP,bO){var bS=bP.offset();var bR=bS.left-(bO?bO.left:0);var bQ=bS.top-(bO?bO.top:0);return{left:bR,right:bR+bP.outerWidth(),top:bQ,bottom:bQ+bP.outerHeight()}}function G(bQ,bO){var bT=bQ.offset();var bP=a(bQ);var bS=bT.left+bG(bQ,"border-left-width")+bP.left-(bO?bO.left:0);var bR=bT.top+bG(bQ,"border-top-width")+bP.top-(bO?bO.top:0);return{left:bS,right:bS+bQ[0].clientWidth,top:bR,bottom:bR+bQ[0].clientHeight}}function an(bP,bO){var bS=bP.offset();var bR=bS.left+bG(bP,"border-left-width")+bG(bP,"padding-left")-(bO?bO.left:0);var bQ=bS.top+bG(bP,"border-top-width")+bG(bP,"padding-top")-(bO?bO.top:0);return{left:bR,right:bR+bP.width(),top:bQ,bottom:bQ+bP.height()}}function a(bP){var bR=bP[0].offsetWidth-bP[0].clientWidth;var bO=bP[0].offsetHeight-bP[0].clientHeight;var bQ;bR=v(bR);bO=v(bO);bQ={left:0,right:0,top:0,bottom:bO};if(bq()&&bP.css("direction")=="rtl"){bQ.left=bR}else{bQ.right=bR}return bQ}function v(bO){bO=Math.max(0,bO);bO=Math.round(bO);return bO}var J=null;function bq(){if(J===null){J=aC()}return J}function aC(){var bP=bz("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var bQ=bP.children();var bO=bQ.offset().left>bP.offset().left;bP.remove();return bO}function bG(bO,bP){return parseFloat(bO.css(bP))||0}C.preventDefault=bF;function bJ(bO){return bO.which==1&&!bO.ctrlKey}function V(bO){var bP=bO.originalEvent.touches;if(bP&&bP.length){return bP[0].pageX}return bO.pageX}function U(bO){var bP=bO.originalEvent.touches;if(bP&&bP.length){return bP[0].pageY}return bO.pageY}function aS(bO){return/^touch/.test(bO.type)}function F(bO){bO.addClass("fc-unselectable").on("selectstart",bF)}function aa(bO){bO.removeClass("fc-unselectable").off("selectstart",bF)}function bF(bO){bO.preventDefault()}C.intersectRects=c;function c(bP,bO){var bQ={left:Math.max(bP.left,bO.left),right:Math.min(bP.right,bO.right),top:Math.max(bP.top,bO.top),bottom:Math.min(bP.bottom,bO.bottom)};if(bQ.left<bQ.right&&bQ.top<bQ.bottom){return bQ}return false}function aJ(bO,bP){return{left:Math.min(Math.max(bO.left,bP.left),bP.right),top:Math.min(Math.max(bO.top,bP.top),bP.bottom)}}function aZ(bO){return{left:(bO.left+bO.right)/2,top:(bO.top+bO.bottom)/2}}function by(bP,bO){return{left:bP.left-bO.left,top:bP.top-bO.top}}C.parseFieldSpecs=aG;C.compareByFieldSpecs=bh;C.compareByFieldSpec=E;C.flexibleCompare=P;function aG(bO){var bS=[];var bR=[];var bQ,bP;if(typeof bO==="string"){bR=bO.split(/\s*,\s*/)}else{if(typeof bO==="function"){bR=[bO]}else{if(bz.isArray(bO)){bR=bO}}}for(bQ=0;bQ<bR.length;bQ++){bP=bR[bQ];if(typeof bP==="string"){bS.push(bP.charAt(0)=="-"?{field:bP.substring(1),order:-1}:{field:bP,order:1})}else{if(typeof bP==="function"){bS.push({func:bP})}}}return bS}function bh(bR,bQ,bS){var bO;var bP;for(bO=0;bO<bS.length;bO++){bP=E(bR,bQ,bS[bO]);if(bP){return bP}}return 0}function E(bQ,bO,bP){if(bP.func){return bP.func(bQ,bO)}return P(bQ[bP.field],bO[bP.field])*(bP.order||1)}function P(bP,bO){if(!bP&&!bO){return 0}if(bO==null){return -1}if(bP==null){return 1}if(bz.type(bP)==="string"||bz.type(bO)==="string"){return String(bP).localeCompare(String(bO))}return bP-bO}function g(bW,bP){var bS=bW.start;var bQ=bW.end;var bV=bP.start;var bT=bP.end;var bU,bX;var bO,bR;if(bQ>bV&&bS<bT){if(bS>=bV){bU=bS.clone();bO=true}else{bU=bV.clone();bO=false}if(bQ<=bT){bX=bQ.clone();bR=true}else{bX=bT.clone();bR=false}return{start:bU,end:bX,isStart:bO,isEnd:bR}}}C.computeGreatestUnit=aE;C.divideRangeByDuration=q;C.divideDurationByDuration=I;C.multiplyDuration=av;C.durationHasTime=ai;var aR=["sun","mon","tue","wed","thu","fri","sat"];var n=["year","month","week","day","hour","minute","second","millisecond"];function h(bP,bO){return a9.duration({days:bP.clone().stripTime().diff(bO.clone().stripTime(),"days"),ms:bP.time()-bO.time()})}function ak(bP,bO){return a9.duration({days:bP.clone().stripTime().diff(bO.clone().stripTime(),"days")})}function e(bP,bO,bQ){return a9.duration(Math.round(bP.diff(bO,bQ,true)),bQ)}function aE(bS,bO){var bP,bQ;var bR;for(bP=0;bP<n.length;bP++){bQ=n[bP];bR=ax(bQ,bS,bO);if(bR>=1&&bD(bR)){break}}return bQ}function f(bQ,bO){var bP=aE(bQ);if(bP==="week"&&typeof bO==="object"&&bO.days){bP="day"}return bP}function ax(bP,bQ,bO){if(bO!=null){return bO.diff(bQ,bP,true)}else{if(a9.isDuration(bQ)){return bQ.as(bP)}else{return bQ.end.diff(bQ.start,bP,true)}}}function q(bR,bP,bQ){var bO;if(ai(bQ)){return(bP-bR)/bQ}bO=bQ.asMonths();if(Math.abs(bO)>=1&&bD(bO)){return bP.diff(bR,"months",true)/bO}return bP.diff(bR,"days",true)/bQ.asDays()}function I(bQ,bP){var bO,bR;if(ai(bQ)||ai(bP)){return bQ/bP}bO=bQ.asMonths();bR=bP.asMonths();if(Math.abs(bO)>=1&&bD(bO)&&Math.abs(bR)>=1&&bD(bR)){return bO/bR}return bQ.asDays()/bP.asDays()}function av(bP,bQ){var bO;if(ai(bP)){return a9.duration(bP*bQ)}bO=bP.asMonths();if(Math.abs(bO)>=1&&bD(bO)){return a9.duration({months:bO*bQ})}return a9.duration({days:bP.asDays()*bQ})}function W(bO){return{start:bO.start.clone(),end:bO.end.clone()}}function k(bP,bO){bP=W(bP);if(bO.start){bP.start=a8(bP.start,bO)}if(bO.end){bP.end=w(bP.end,bO.end)}return bP}function a8(bP,bO){bP=bP.clone();if(bO.start){bP=aD(bP,bO.start)}if(bO.end&&bP>=bO.end){bP=bO.end.clone().subtract(1)}return bP}function x(bP,bO){return(!bO.start||bP>=bO.start)&&(!bO.end||bP<bO.end)}function bt(bO,bP){return(!bP.start||bO.end>=bP.start)&&(!bP.end||bO.start<bP.end)}function aP(bP,bO){return(!bO.start||bP.start>=bO.start)&&(!bO.end||bP.end<=bO.end)}function j(bP,bO){return((bP.start&&bO.start&&bP.start.isSame(bO.start))||(!bP.start&&!bO.start))&&((bP.end&&bO.end&&bP.end.isSame(bO.end))||(!bP.end&&!bO.end))}function w(bP,bO){return(bP.isBefore(bO)?bP:bO).clone()}function aD(bP,bO){return(bP.isAfter(bO)?bP:bO).clone()}function ai(bO){return Boolean(bO.hours()||bO.minutes()||bO.seconds()||bO.milliseconds())}function l(bO){return Object.prototype.toString.call(bO)==="[object Date]"||bO instanceof Date}function aj(bO){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(bO)}C.log=function(){var bO=window.console;if(bO&&bO.log){return bO.log.apply(bO,arguments)}};C.warn=function(){var bO=window.console;if(bO&&bO.warn){return bO.warn.apply(bO,arguments)}else{return C.log.apply(C,arguments)}};var aO={}.hasOwnProperty;function bK(bW,bS){var bV={};var bR,bO;var bU;var bQ,bP;var bT;if(bS){for(bR=0;bR<bS.length;bR++){bO=bS[bR];bU=[];for(bQ=bW.length-1;bQ>=0;bQ--){bP=bW[bQ][bO];if(typeof bP==="object"){bU.unshift(bP)}else{if(bP!==undefined){bV[bO]=bP;break}}}if(bU.length){bV[bO]=bK(bU)}}}for(bR=bW.length-1;bR>=0;bR--){bT=bW[bR];for(bO in bT){if(!(bO in bV)){bV[bO]=bT[bO]}}}return bV}function Z(bO){var bP=function(){};bP.prototype=bO;return new bP()}C.createObject=Z;function z(bQ,bP){for(var bO in bQ){if(al(bQ,bO)){bP[bO]=bQ[bO]}}}function al(bP,bO){return aO.call(bP,bO)}function bs(bO){return/undefined|null|boolean|number|string/.test(bz.type(bO))}function D(bR,bS,bP){if(bz.isFunction(bR)){bR=[bR]}if(bR){var bQ;var bO;for(bQ=0;bQ<bR.length;bQ++){bO=bR[bQ].apply(bS,bP)||bO}return bO}}function ab(){for(var bO=0;bO<arguments.length;bO++){if(arguments[bO]!==undefined){return arguments[bO]}}}function aM(bO){return(bO+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aK(bO){return bO.replace(/&.*?;/g,"")}function O(bP){var bO=[];bz.each(bP,function(bQ,bR){if(bR!=null){bO.push(bQ+":"+bR)}});return bO.join(";")}function bb(bO){var bP=[];bz.each(bO,function(bQ,bR){if(bR!=null){bP.push(bQ+'="'+aM(bR)+'"')}});return bP.join(" ")}function s(bO){return bO.charAt(0).toUpperCase()+bO.slice(1)}function ad(bP,bO){return bP-bO}function bD(bO){return bO%1===0}function aH(bP,bO){var bQ=bP[bO];return function(){return bQ.apply(bP,arguments)}}function bf(bQ,bS,bP){var bV,bU,bO,bT,bW;var bR=function(){var bX=+new Date()-bT;if(bX<bS){bV=setTimeout(bR,bS-bX)}else{bV=null;if(!bP){bW=bQ.apply(bO,bU);bO=bU=null}}};return function(){bO=this;bU=arguments;bT=+new Date();var bX=bP&&!bV;if(!bV){bV=setTimeout(bR,bS)}if(bX){bW=bQ.apply(bO,bU);bO=bU=null}return bW}}var bM=/^\s*\d{4}-\d\d$/;var aB=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var at=a9.fn;var aF=bz.extend({},at);var Q=a9.momentProperties;Q.push("_fullCalendar");Q.push("_ambigTime");Q.push("_ambigZone");C.moment=function(){return bl(arguments)};C.moment.utc=function(){var bO=bl(arguments,true);if(bO.hasTime()){bO.utc()}return bO};C.moment.parseZone=function(){return bl(arguments,true,true)};function bl(bU,bT,bS){var bW=bU[0];var bR=bU.length==1&&typeof bW==="string";var bQ;var bV;var bO;var bP;if(a9.isMoment(bW)||l(bW)||bW===undefined){bP=a9.apply(null,bU)}else{bQ=false;bV=false;if(bR){if(bM.test(bW)){bW+="-01";bU=[bW];bQ=true;bV=true}else{if((bO=aB.exec(bW))){bQ=!bO[5];bV=true}}}else{if(bz.isArray(bW)){bV=true}}if(bT||bQ){bP=a9.utc.apply(a9,bU)}else{bP=a9.apply(null,bU)}if(bQ){bP._ambigTime=true;bP._ambigZone=true}else{if(bS){if(bV){bP._ambigZone=true}else{if(bR){bP.utcOffset(bW)}}}}}bP._fullCalendar=true;return bP}at.week=at.weeks=function(bP){var bO=this._locale._fullCalendar_weekCalc;if(bP==null&&typeof bO==="function"){return bO(this)}else{if(bO==="ISO"){return aF.isoWeek.apply(this,arguments)}}return aF.week.apply(this,arguments)};at.time=function(bP){if(!this._fullCalendar){return aF.time.apply(this,arguments)}if(bP==null){return a9.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!a9.isDuration(bP)&&!a9.isMoment(bP)){bP=a9.duration(bP)}var bO=0;if(a9.isDuration(bP)){bO=Math.floor(bP.asDays())*24}return this.hours(bO+bP.hours()).minutes(bP.minutes()).seconds(bP.seconds()).milliseconds(bP.milliseconds())}};at.stripTime=function(){if(!this._ambigTime){this.utc(true);this.set({hours:0,minutes:0,seconds:0,ms:0});this._ambigTime=true;this._ambigZone=true}return this};at.hasTime=function(){return !this._ambigTime};at.stripZone=function(){var bO;if(!this._ambigZone){bO=this._ambigTime;this.utc(true);this._ambigTime=bO||false;this._ambigZone=true}return this};at.hasZone=function(){return !this._ambigZone};at.local=function(bO){aF.local.call(this,this._ambigZone||bO);this._ambigTime=false;this._ambigZone=false;return this};at.utc=function(bO){aF.utc.call(this,bO);this._ambigTime=false;this._ambigZone=false;return this};at.utcOffset=function(bO){if(bO!=null){this._ambigTime=false;this._ambigZone=false}return aF.utcOffset.apply(this,arguments)};at.format=function(){if(this._fullCalendar&&arguments[0]){return p(this,arguments[0])}if(this._ambigTime){return am(r(this),"YYYY-MM-DD")}if(this._ambigZone){return am(r(this),"YYYY-MM-DD[T]HH:mm:ss")}if(this._fullCalendar){return am(r(this))}return aF.format.apply(this,arguments)};at.toISOString=function(){if(this._ambigTime){return am(r(this),"YYYY-MM-DD")}if(this._ambigZone){return am(r(this),"YYYY-MM-DD[T]HH:mm:ss")}if(this._fullCalendar){return aF.toISOString.apply(r(this),arguments)}return aF.toISOString.apply(this,arguments)};function r(bO){if(bO.locale()!=="en"){return bO.clone().locale("en")}return bO}(function(){C.formatDate=bX;C.formatRange=bR;C.oldMomentFormat=bW;C.queryMostGranularFormatUnit=bV;var b7="\u000b";var bY="\u001f";var bZ="\u001e";var bT=new RegExp(bZ+"([^"+bZ+"]*)"+bZ,"g");var bQ={t:function(b9){return bW(b9,"a").charAt(0)},T:function(b9){return bW(b9,"A").charAt(0)}};var b4={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};function bX(ca,b9){return b1(b5(b9).fakeFormatString,ca)}function bW(ca,b9){return aF.format.call(ca,b9)}function bR(ce,cc,b9,cd,ca){var cb;ce=C.moment.parseZone(ce);cc=C.moment.parseZone(cc);cb=ce.localeData();b9=cb.longDateFormat(b9)||b9;return bU(b5(b9),ce,cc,cd||" - ",ca)}function bU(cb,cn,cm,cd,cg){var cj=cb.sameUnits;var ck=cn.clone().stripZone();var ci=cm.clone().stripZone();var cf=bO(cb.fakeFormatString,cn);var ce=bO(cb.fakeFormatString,cm);var b9;var ca="";var cl;var cc="";var ch;var cq="";var cp="";var co="";for(b9=0;b9<cj.length&&(!cj[b9]||ck.isSame(ci,cj[b9]));b9++){ca+=cf[b9]}for(cl=cj.length-1;cl>b9&&(!cj[cl]||ck.isSame(ci,cj[cl]));cl--){if(cl-1===b9&&cf[cl]==="."){break}cc=cf[cl]+cc}for(ch=b9;ch<=cl;ch++){cq+=cf[ch];cp+=ce[ch]}if(cq||cp){if(cg){co=cp+cd+cq}else{co=cq+cd+cp}}return bS(ca+co+cc)}var bP={};function b5(b9){return bP[b9]||(bP[b9]=b8(b9))}function b8(b9){var ca=b2(b9);return{fakeFormatString:b0(ca),sameUnits:b3(ca)}}function b2(ca){var cc=[];var cb;var b9=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;while((cb=b9.exec(ca))){if(cb[1]){cc.push.apply(cc,b6(cb[1]))}else{if(cb[2]){cc.push({maybe:b2(cb[2])})}else{if(cb[3]){cc.push({token:cb[3]})}else{if(cb[5]){cc.push.apply(cc,b6(cb[5]))}}}}}return cc}function b6(b9){if(b9===". "){return["."," "]}else{return[b9]}}function b0(cc){var cb=[];var ca,b9;for(ca=0;ca<cc.length;ca++){b9=cc[ca];if(typeof b9==="string"){cb.push("["+b9+"]")}else{if(b9.token){if(b9.token in bQ){cb.push(bY+"["+b9.token+"]")}else{cb.push(b9.token)}}else{if(b9.maybe){cb.push(bZ+b0(b9.maybe)+bZ)}}}}return cb.join(b7)}function b3(cd){var ca=[];var cc,cb;var b9;for(cc=0;cc<cd.length;cc++){cb=cd[cc];if(cb.token){b9=b4[cb.token.charAt(0)];ca.push(b9?b9.unit:"second")}else{if(cb.maybe){ca.push.apply(ca,b3(cb.maybe))}else{ca.push(null)}}}return ca}function b1(ca,b9){return bS(bO(ca,b9).join(""))}function bO(cf,cc){var ce=[];var cb=bW(cc,cf);var ca=cb.split(b7);var cd,b9;for(cd=0;cd<ca.length;cd++){b9=ca[cd];if(b9.charAt(0)===bY){ce.push(bQ[b9.substring(1)](cc))}else{ce.push(b9)}}return ce}function bS(b9){return b9.replace(bT,function(cb,ca){if(ca.match(/[1-9]/)){return ca}else{return""}})}function bV(b9){var ce=b2(b9);var cb,ca;var cc;var cd;for(cb=0;cb<ce.length;cb++){ca=ce[cb];if(ca.token){cc=b4[ca.token.charAt(0)];if(cc){if(!cd||cc.value>cd.value){cd=cc}}}}if(cd){return cd.unit}return null}})();var p=C.formatDate;var bo=C.formatRange;var am=C.oldMomentFormat;C.Class=ay;function ay(){}ay.extend=function(){var bO=arguments.length;var bQ;var bP;for(bQ=0;bQ<bO;bQ++){bP=arguments[bQ];if(bQ<bO-1){aY(this,bP)}}return a1(this,bP||{})};ay.mixin=function(bO){aY(this,bO)};function a1(bP,bO){var bQ;if(al(bO,"constructor")){bQ=bO.constructor}if(typeof bQ!=="function"){bQ=bO.constructor=function(){bP.apply(this,arguments)}}bQ.prototype=Z(bP.prototype);z(bO,bQ.prototype);z(bP,bQ);return bQ}function aY(bP,bO){z(bO,bP.prototype)}var bH=ay.extend(B,aq,{_props:null,_watchers:null,_globalWatchArgs:null,constructor:function(){this._watchers={};this._props={};this.applyGlobalWatchers()},applyGlobalWatchers:function(){var bO=this._globalWatchArgs||[];var bP;for(bP=0;bP<bO.length;bP++){this.watch.apply(this,bO[bP])}},has:function(bO){return bO in this._props},get:function(bO){if(bO===undefined){return this._props}return this._props[bO]},set:function(bO,bQ){var bP;if(typeof bO==="string"){bP={};bP[bO]=bQ===undefined?null:bQ}else{bP=bO}this.setProps(bP)},reset:function(bQ){var bO=this._props;var bR={};var bP;for(bP in bO){bR[bP]=undefined}for(bP in bQ){bR[bP]=bQ[bP]}this.setProps(bR)},unset:function(bO){var bQ={};var bR;var bP;if(typeof bO==="string"){bR=[bO]}else{bR=bO}for(bP=0;bP<bR.length;bP++){bQ[bR[bP]]=undefined}this.setProps(bQ)},setProps:function(bR){var bP={};var bQ=0;var bO,bS;for(bO in bR){bS=bR[bO];if(typeof bS==="object"||bS!==this._props[bO]){bP[bO]=bS;bQ++}}if(bQ){this.trigger("before:batchChange",bP);for(bO in bP){bS=bP[bO];this.trigger("before:change",bO,bS);this.trigger("before:change:"+bO,bS)}for(bO in bP){bS=bP[bO];if(bS===undefined){delete this._props[bO]}else{this._props[bO]=bS}this.trigger("change:"+bO,bS);this.trigger("change",bO,bS)}this.trigger("batchChange",bP)}},watch:function(bR,bO,bQ,bP){var bS=this;this.unwatch(bR);this._watchers[bR]=this._watchDeps(bO,function(bU){var bT=bQ.call(bS,bU);if(bT&&bT.then){bS.unset(bR);bT.then(function(bV){bS.set(bR,bV)})}else{bS.set(bR,bT)}},function(){bS.unset(bR);if(bP){bP.call(bS)}})},unwatch:function(bP){var bO=this._watchers[bP];if(bO){delete this._watchers[bP];bO.teardown()}},_watchDeps:function(bU,bR,bO){var bV=this;var bQ=0;var b0=bU.length;var bT=0;var bY={};var bZ=[];var bX=false;function bS(b2,b3,b1){bQ++;if(bQ===1){if(bT===b0){bX=true;bO();bX=false}}}function bP(b2,b3,b1){if(b3===undefined){if(!b1&&bY[b2]!==undefined){bT--}delete bY[b2]}else{if(!b1&&bY[b2]===undefined){bT++}bY[b2]=b3}bQ--;if(!bQ){if(bT===b0){if(!bX){bR(bY)}}}}function bW(b1,b2){bV.on(b1,b2);bZ.push([b1,b2])}bU.forEach(function(b2){var b1=false;if(b2.charAt(0)==="?"){b2=b2.substring(1);b1=true}bW("before:change:"+b2,function(b3){bS(b2,b3,b1)});bW("change:"+b2,function(b3){bP(b2,b3,b1)})});bU.forEach(function(b2){var b1=false;if(b2.charAt(0)==="?"){b2=b2.substring(1);b1=true}if(bV.has(b2)){bY[b2]=bV.get(b2);bT++}else{if(b1){bT++}}});if(bT===b0){bR(bY)}return{teardown:function(){for(var b1=0;b1<bZ.length;b1++){bV.off(bZ[b1][0],bZ[b1][1])}bZ=null;if(bT===b0){bO()}},flash:function(){if(bT===b0){bO();bR(bY)}}}},flash:function(bP){var bO=this._watchers[bP];if(bO){bO.flash()}}});bH.watch=function(){var bO=this.prototype;if(!bO._globalWatchArgs){bO._globalWatchArgs=[]}bO._globalWatchArgs.push(arguments)};C.Model=bH;var bv={construct:function(bQ){var bO=bz.Deferred();var bP=bO.promise();if(typeof bQ==="function"){bQ(function(bR){bO.resolve(bR);bI(bP,bR)},function(){bO.reject();ba(bP)})}return bP},resolve:function(bQ){var bO=bz.Deferred().resolve(bQ);var bP=bO.promise();bI(bP,bQ);return bP},reject:function(){var bO=bz.Deferred().reject();var bP=bO.promise();ba(bP);return bP}};function bI(bP,bO){bP.then=function(bQ){if(typeof bQ==="function"){bQ(bO)}return bP}}function ba(bO){bO.then=function(bP,bQ){if(typeof bQ==="function"){bQ()}return bO}}C.Promise=bv;var bn=ay.extend(B,{q:null,isPaused:false,isRunning:false,constructor:function(){this.q=[]},queue:function(){this.q.push.apply(this.q,arguments);this.tryStart()},pause:function(){this.isPaused=true},resume:function(){this.isPaused=false;this.tryStart()},tryStart:function(){if(!this.isRunning&&this.canRunNext()){this.isRunning=true;this.trigger("start");this.runNext()}},canRunNext:function(){return !this.isPaused&&this.q.length},runNext:function(){this.runTask(this.q.shift())},runTask:function(bO){this.runTaskFunc(bO)},runTaskFunc:function(bP){var bR=this;var bQ=bP();if(bQ&&bQ.then){bQ.then(bO)}else{bO()}function bO(){if(bR.canRunNext()){bR.runNext()}else{bR.isRunning=false;bR.trigger("stop")}}}});C.TaskQueue=bn;var aX=bn.extend({waitsByNamespace:null,waitNamespace:null,waitId:null,constructor:function(bO){bn.call(this);this.waitsByNamespace=bO||{}},queue:function(bP,bR,bQ){var bO={func:bP,namespace:bR,type:bQ};var bS;if(bR){bS=this.waitsByNamespace[bR]}if(this.waitNamespace){if(bR===this.waitNamespace&&bS!=null){this.delayWait(bS)}else{this.clearWait();this.tryStart()}}if(this.compoundTask(bO)){if(!this.waitNamespace&&bS!=null){this.startWait(bR,bS)}else{this.tryStart()}}},startWait:function(bO,bP){this.waitNamespace=bO;this.spawnWait(bP)},delayWait:function(bO){clearTimeout(this.waitId);this.spawnWait(bO)},spawnWait:function(bP){var bO=this;this.waitId=setTimeout(function(){bO.waitNamespace=null;bO.tryStart()},bP)},clearWait:function(){if(this.waitNamespace){clearTimeout(this.waitId);this.waitId=null;this.waitNamespace=null}},canRunNext:function(){if(!bn.prototype.canRunNext.apply(this,arguments)){return false}if(this.waitNamespace){for(var bP=this.q,bO=0;bO<bP.length;bO++){if(bP[bO].namespace!==this.waitNamespace){return true}}return false}return true},runTask:function(bO){this.runTaskFunc(bO.func)},compoundTask:function(bO){var bS=this.q;var bR=true;var bQ,bP;if(bO.namespace){if(bO.type==="destroy"||bO.type==="init"){for(bQ=bS.length-1;bQ>=0;bQ--){bP=bS[bQ];if(bP.namespace===bO.namespace&&(bP.type==="add"||bP.type==="remove")){bS.splice(bQ,1)}}if(bO.type==="destroy"){if(bS.length){bP=bS[bS.length-1];if(bP.namespace===bO.namespace){if(bP.type==="init"){bR=false;bS.pop()}else{if(bP.type==="destroy"){bR=false}}}}}else{if(bO.type==="init"){if(bS.length){bP=bS[bS.length-1];if(bP.namespace===bO.namespace&&bP.type==="init"){bS.pop()}}}}}}if(bR){bS.push(bO)}return bR}});C.RenderQueue=aX;var B=C.EmitterMixin={on:function(bO,bP){bz(this).on(bO,this._prepareIntercept(bP));return this},one:function(bO,bP){bz(this).one(bO,this._prepareIntercept(bP));return this},_prepareIntercept:function(bO){var bP=function(bR,bQ){return bO.apply(bQ.context||this,bQ.args||[])};if(!bO.guid){bO.guid=bz.guid++}bP.guid=bO.guid;return bP},off:function(bO,bP){bz(this).off(bO,bP);return this},trigger:function(bP){var bO=Array.prototype.slice.call(arguments,1);bz(this).triggerHandler(bP,{args:bO});return this},triggerWith:function(bQ,bP,bO){bz(this).triggerHandler(bQ,{context:bP,args:bO});return this}};var aq=C.ListenerMixin=(function(){var bO=0;var bP={listenerId:null,listenTo:function(bR,bQ,bT){if(typeof bQ==="object"){for(var bS in bQ){if(bQ.hasOwnProperty(bS)){this.listenTo(bR,bS,bQ[bS])}}}else{if(typeof bQ==="string"){bR.on(bQ+"."+this.getListenerNamespace(),bz.proxy(bT,this))}}},stopListeningTo:function(bQ,bR){bQ.off((bR||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=bO++}return"_listener"+this.listenerId}};return bP})();var a2=ay.extend(aq,{isHidden:true,options:null,el:null,margin:10,constructor:function(bO){this.options=bO||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var bP=this;var bO=this.options;this.el=bz('<div class="fc-popover"/>').addClass(bO.className||"").css({top:0,left:0}).append(bO.content).appendTo(bO.parentEl);this.el.on("click",".fc-close",function(){bP.hide()});if(bO.autoHide){this.listenTo(bz(document),"mousedown",this.documentMousedown)}},documentMousedown:function(bO){if(this.el&&!bz(bO.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(bz(document),"mousedown")},position:function(){var bY=this.options;var bU=this.el.offsetParent().offset();var bO=this.el.outerWidth();var bW=this.el.outerHeight();var bV=bz(window);var bT=br(this.el);var bP;var bR;var bX;var bS;var bQ;bS=bY.top||0;if(bY.left!==undefined){bQ=bY.left}else{if(bY.right!==undefined){bQ=bY.right-bO}else{bQ=0}}if(bT.is(window)||bT.is(document)){bT=bV;bP=0;bR=0}else{bX=bT.offset();bP=bX.top;bR=bX.left}bP+=bV.scrollTop();bR+=bV.scrollLeft();if(bY.viewportConstrain!==false){bS=Math.min(bS,bP+bT.outerHeight()-bW-this.margin);bS=Math.max(bS,bP+this.margin);bQ=Math.min(bQ,bR+bT.outerWidth()-bO-this.margin);bQ=Math.max(bQ,bR+this.margin)}this.el.css({top:bS-bU.top,left:bQ-bU.left})},trigger:function(bO){if(this.options[bO]){this.options[bO].apply(this,Array.prototype.slice.call(arguments,1))}}});var ao=C.CoordCache=ay.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(bO){this.els=bz(bO.els);this.isHorizontal=bO.isHorizontal;this.isVertical=bO.isVertical;this.forcedOffsetParentEl=bO.offsetParent?bz(bO.offsetParent):null},build:function(){var bO=this.forcedOffsetParentEl;if(!bO&&this.els.length>0){bO=this.els.eq(0).offsetParent()}this.origin=bO?bO.offset():null;this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},buildElHorizontals:function(){var bP=[];var bO=[];this.els.each(function(bQ,bT){var bS=bz(bT);var bU=bS.offset().left;var bR=bS.outerWidth();bP.push(bU);bO.push(bU+bR)});this.lefts=bP;this.rights=bO},buildElVerticals:function(){var bO=[];var bP=[];this.els.each(function(bR,bT){var bS=bz(bT);var bU=bS.offset().top;var bQ=bS.outerHeight();bO.push(bU);bP.push(bU+bQ)});this.tops=bO;this.bottoms=bP},getHorizontalIndex:function(bQ){this.ensureBuilt();var bS=this.lefts;var bR=this.rights;var bO=bS.length;var bP;for(bP=0;bP<bO;bP++){if(bQ>=bS[bP]&&bQ<bR[bP]){return bP}}},getVerticalIndex:function(bQ){this.ensureBuilt();var bR=this.tops;var bS=this.bottoms;var bO=bR.length;var bP;for(bP=0;bP<bO;bP++){if(bQ>=bR[bP]&&bQ<bS[bP]){return bP}}},getLeftOffset:function(bO){this.ensureBuilt();return this.lefts[bO]},getLeftPosition:function(bO){this.ensureBuilt();return this.lefts[bO]-this.origin.left},getRightOffset:function(bO){this.ensureBuilt();return this.rights[bO]},getRightPosition:function(bO){this.ensureBuilt();return this.rights[bO]-this.origin.left},getWidth:function(bO){this.ensureBuilt();return this.rights[bO]-this.lefts[bO]},getTopOffset:function(bO){this.ensureBuilt();return this.tops[bO]},getTopPosition:function(bO){this.ensureBuilt();return this.tops[bO]-this.origin.top},getBottomOffset:function(bO){this.ensureBuilt();return this.bottoms[bO]},getBottomPosition:function(bO){this.ensureBuilt();return this.bottoms[bO]-this.origin.top},getHeight:function(bO){this.ensureBuilt();return this.bottoms[bO]-this.tops[bO]},queryBoundingRect:function(){var bO;if(this.els.length>0){bO=br(this.els.eq(0));if(!bO.is(document)){return G(bO)}}return null},isPointInBounds:function(bP,bO){return this.isLeftInBounds(bP)&&this.isTopInBounds(bO)},isLeftInBounds:function(bO){return !this.boundingRect||(bO>=this.boundingRect.left&&bO<this.boundingRect.right)},isTopInBounds:function(bO){return !this.boundingRect||(bO>=this.boundingRect.top&&bO<this.boundingRect.bottom)}});var bm=C.DragListener=ay.extend(aq,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,isGeneric:false,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:true,scrollAlwaysKills:false,constructor:function(bO){this.options=bO||{}},startInteraction:function(bP,bO){if(bP.type==="mousedown"){if(ap.get().shouldIgnoreMouse()){return}else{if(!bJ(bP)){return}else{bP.preventDefault()}}}if(!this.isInteracting){bO=bO||{};this.delay=ab(bO.delay,this.options.delay,0);this.minDistance=ab(bO.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;F(bz("body"));this.isInteracting=true;this.isTouch=aS(bP);this.isGeneric=bP.type==="dragstart";this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=V(bP);this.originY=U(bP);this.scrollEl=br(bz(bP.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(bP);this.startDelay(bP);if(!this.minDistance){this.handleDistanceSurpassed(bP)}}},handleInteractionStart:function(bO){this.trigger("interactionStart",bO)},endInteraction:function(bO,bP){if(this.isInteracting){this.endDrag(bO);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(bO,bP);aa(bz("body"))}},handleInteractionEnd:function(bO,bP){this.trigger("interactionEnd",bO,bP||false)},bindHandlers:function(){var bO=ap.get();if(this.isGeneric){this.listenTo(bz(document),{drag:this.handleMove,dragstop:this.endInteraction})}else{if(this.isTouch){this.listenTo(bO,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll})}else{this.listenTo(bO,{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}}this.listenTo(bO,{selectstart:bF,contextmenu:bF})},unbindHandlers:function(){this.stopListeningTo(ap.get());this.stopListeningTo(bz(document))},startDrag:function(bP,bO){this.startInteraction(bP,bO);if(!this.isDragging){this.isDragging=true;this.handleDragStart(bP)}},handleDragStart:function(bO){this.trigger("dragStart",bO)},handleMove:function(bR){var bQ=V(bR)-this.originX;var bO=U(bR)-this.originY;var bS=this.minDistance;var bP;if(!this.isDistanceSurpassed){bP=bQ*bQ+bO*bO;if(bP>=bS*bS){this.handleDistanceSurpassed(bR)}}if(this.isDragging){this.handleDrag(bQ,bO,bR)}},handleDrag:function(bP,bO,bQ){this.trigger("drag",bP,bO,bQ);this.updateAutoScroll(bQ)},endDrag:function(bO){if(this.isDragging){this.isDragging=false;this.handleDragEnd(bO)}},handleDragEnd:function(bO){this.trigger("dragEnd",bO)},startDelay:function(bO){var bP=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){bP.handleDelayEnd(bO)},this.delay)}else{this.handleDelayEnd(bO)}},handleDelayEnd:function(bO){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(bO)}},handleDistanceSurpassed:function(bO){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(bO)}},handleTouchMove:function(bO){if(this.isDragging&&this.shouldCancelTouchScroll){bO.preventDefault()}this.handleMove(bO)},handleMouseMove:function(bO){this.handleMove(bO)},handleTouchScroll:function(bO){if(!this.isDragging||this.scrollAlwaysKills){this.endInteraction(bO,true)}},trigger:function(bO){if(this.options[bO]){this.options[bO].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+bO]){this["_"+bO].apply(this,Array.prototype.slice.call(arguments,1))}}});bm.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var bO=this.scrollEl;this.isAutoScroll=this.options.scroll&&bO&&!bO.is(window)&&!bO.is(document);if(this.isAutoScroll){this.listenTo(bO,"scroll",bf(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=ar(this.scrollEl)}},updateAutoScroll:function(bU){var bQ=this.scrollSensitivity;var bO=this.scrollBounds;var bP,bR;var bV,bW;var bT=0;var bS=0;if(bO){bP=(bQ-(U(bU)-bO.top))/bQ;bR=(bQ-(bO.bottom-U(bU)))/bQ;bV=(bQ-(V(bU)-bO.left))/bQ;bW=(bQ-(bO.right-V(bU)))/bQ;if(bP>=0&&bP<=1){bT=bP*this.scrollSpeed*-1}else{if(bR>=0&&bR<=1){bT=bR*this.scrollSpeed}}if(bV>=0&&bV<=1){bS=bV*this.scrollSpeed*-1}else{if(bW>=0&&bW<=1){bS=bW*this.scrollSpeed}}}this.setScrollVel(bT,bS)},setScrollVel:function(bP,bO){this.scrollTopVel=bP;this.scrollLeftVel=bO;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(aH(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var bO=this.scrollEl;if(this.scrollTopVel<0){if(bO.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(bO.scrollTop()+bO[0].clientHeight>=bO[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(bO.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(bO.scrollLeft()+bO[0].clientWidth>=bO[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var bP=this.scrollEl;var bO=this.scrollIntervalMs/1000;if(this.scrollTopVel){bP.scrollTop(bP.scrollTop()+this.scrollTopVel*bO)}if(this.scrollLeftVel){bP.scrollLeft(bP.scrollLeft()+this.scrollLeftVel*bO)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var az=bm.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(bP,bO){bm.call(this,bO);this.component=bP},handleInteractionStart:function(bS){var bP=this.subjectEl;var bQ;var bR;var bO;this.component.hitsNeeded();this.computeScrollBounds();if(bS){bR={left:V(bS),top:U(bS)};bO=bR;if(bP){bQ=ar(bP);bO=aJ(bO,bQ)}this.origHit=this.queryHit(bO.left,bO.top);if(bP&&this.options.subjectCenter){if(this.origHit){bQ=c(this.origHit,bQ)||bQ}bO=aZ(bQ)}this.coordAdjust=by(bO,bR)}else{this.origHit=null;this.coordAdjust=null}bm.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(bO){var bP;bm.prototype.handleDragStart.apply(this,arguments);bP=this.queryHit(V(bO),U(bO));if(bP){this.handleHitOver(bP)}},handleDrag:function(bP,bO,bQ){var bR;bm.prototype.handleDrag.apply(this,arguments);bR=this.queryHit(V(bQ),U(bQ));if(!bE(bR,this.hit)){if(this.hit){this.handleHitOut()}if(bR){this.handleHitOver(bR)}}},handleDragEnd:function(){this.handleHitDone();bm.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(bP){var bO=bE(bP,this.origHit);this.hit=bP;this.trigger("hitOver",this.hit,bO,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bm.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.hitsNotNeeded()},handleScrollEnd:function(){bm.prototype.handleScrollEnd.apply(this,arguments);if(this.isDragging){this.component.releaseHits();this.component.prepareHits()}},queryHit:function(bP,bO){if(this.coordAdjust){bP+=this.coordAdjust.left;bO+=this.coordAdjust.top}return this.component.queryHit(bP,bO)}});function bE(bP,bO){if(!bP&&!bO){return true}if(bP&&bO){return bP.component===bO.component&&aA(bP,bO)&&aA(bO,bP)}return false}function aA(bO,bP){for(var bQ in bO){if(!/^(component|left|right|top|bottom)$/.test(bQ)){if(bO[bQ]!==bP[bQ]){return false}}}return true}C.touchMouseIgnoreWait=500;var ap=ay.extend(aq,B,{isTouching:false,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var bO=this;this.listenTo(bz(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu});window.addEventListener("touchmove",this.handleTouchMoveProxy=function(bP){bO.handleTouchMove(bz.Event(bP))},{passive:false});window.addEventListener("scroll",this.handleScrollProxy=function(bP){bO.handleScroll(bz.Event(bP))},true)},unbind:function(){this.stopListeningTo(bz(document));window.removeEventListener("touchmove",this.handleTouchMoveProxy);window.removeEventListener("scroll",this.handleScrollProxy,true)},handleTouchStart:function(bO){this.stopTouch(bO,true);this.isTouching=true;this.trigger("touchstart",bO)},handleTouchMove:function(bO){if(this.isTouching){this.trigger("touchmove",bO)}},handleTouchCancel:function(bO){if(this.isTouching){this.trigger("touchcancel",bO);this.stopTouch(bO)}},handleTouchEnd:function(bO){this.stopTouch(bO)},handleMouseDown:function(bO){if(!this.shouldIgnoreMouse()){this.trigger("mousedown",bO)}},handleMouseMove:function(bO){if(!this.shouldIgnoreMouse()){this.trigger("mousemove",bO)}},handleMouseUp:function(bO){if(!this.shouldIgnoreMouse()){this.trigger("mouseup",bO)}},handleClick:function(bO){if(!this.shouldIgnoreMouse()){this.trigger("click",bO)}},handleSelectStart:function(bO){this.trigger("selectstart",bO)},handleContextMenu:function(bO){this.trigger("contextmenu",bO)},handleScroll:function(bO){this.trigger("scroll",bO)},stopTouch:function(bO,bP){if(this.isTouching){this.isTouching=false;this.trigger("touchend",bO);if(!bP){this.startTouchMouseIgnore()}}},startTouchMouseIgnore:function(){var bP=this;var bO=C.touchMouseIgnoreWait;if(bO){this.mouseIgnoreDepth++;setTimeout(function(){bP.mouseIgnoreDepth--},bO)}},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});(function(){var bP=null;var bO=0;ap.get=function(){if(!bP){bP=new ap();bP.bind()}return bP};ap.needed=function(){ap.get();bO++};ap.unneeded=function(){bO--;if(!bO){bP.unbind();bP=null}}})();var be=ay.extend(aq,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(bO,bP){this.options=bP=bP||{};this.sourceEl=bO;this.parentEl=bP.parentEl?bz(bP.parentEl):bO.parent()},start:function(bO){if(!this.isFollowing){this.isFollowing=true;this.y0=U(bO);this.x0=V(bO);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(aS(bO)){this.listenTo(bz(document),"touchmove",this.handleMove)}else{this.listenTo(bz(document),"mousemove",this.handleMove)}}},stop:function(bP,bS){var bR=this;var bQ=this.options.revertDuration;function bO(){bR.isAnimating=false;bR.removeElement();bR.top0=bR.left0=null;if(bS){bS()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(bz(document));if(bP&&bQ&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:bQ,complete:bO})}else{bO()}}},getEl:function(){var bO=this.el;if(!bO){bO=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});bO.addClass("fc-unselectable");bO.appendTo(this.parentEl)}return bO},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var bP;var bO;this.getEl();if(this.top0===null){bP=this.sourceEl.offset();bO=this.el.offsetParent().offset();this.top0=bP.top-bO.top;this.left0=bP.left-bO.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(bO){this.topDelta=U(bO)-this.y0;this.leftDelta=V(bO)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var aI=C.Grid=ay.extend(aq,{hasDayInteractions:true,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayClickListener:null,daySelectListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(bO){this.view=bO;this.isRTL=bO.opt("isRTL");this.elsByFill={};this.dayClickListener=this.buildDayClickListener();this.daySelectListener=this.buildDaySelectListener()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},setRange:function(bO){this.start=bO.start.clone();this.end=bO.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var bP=this.view;var bO;var bQ;this.eventTimeFormat=bP.opt("eventTimeFormat")||bP.opt("timeFormat")||this.computeEventTimeFormat();bO=bP.opt("displayEventTime");if(bO==null){bO=this.computeDisplayEventTime()}bQ=bP.opt("displayEventEnd");if(bQ==null){bQ=this.computeDisplayEventEnd()}this.displayEventTime=bO;this.displayEventEnd=bQ},spanToSegs:function(bO){},diffDates:function(bP,bO){if(this.largeUnit){return e(bP,bO,this.largeUnit)}else{return h(bP,bO)}},hitsNeededDepth:0,hitsNeeded:function(){if(!(this.hitsNeededDepth++)){this.prepareHits()}},hitsNotNeeded:function(){if(this.hitsNeededDepth&&!(--this.hitsNeededDepth)){this.releaseHits()}},prepareHits:function(){},releaseHits:function(){},queryHit:function(bP,bO){},getSafeHitSpan:function(bO){var bP=this.getHitSpan(bO);if(!aP(bP,this.view.activeRange)){return null}return bP},getHitSpan:function(bO){},getHitEl:function(bO){},setElement:function(bO){this.el=bO;if(this.hasDayInteractions){F(bO);this.bindDayHandler("touchstart",this.dayTouchStart);this.bindDayHandler("mousedown",this.dayMousedown)}this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(bO,bP){var bQ=this;this.el.on(bO,function(bR){if(!bz(bR.target).is(bQ.segSelector+","+bQ.segSelector+" *,.fc-more,a[data-goto]")){return bP.call(bQ,bR)}})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(bz(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(bz(document))},dayMousedown:function(bP){var bO=this.view;if(ap.get().shouldIgnoreMouse()){return}this.dayClickListener.startInteraction(bP);if(bO.opt("selectable")){this.daySelectListener.startInteraction(bP,{distance:bO.opt("selectMinDistance")})}},dayTouchStart:function(bP){var bO=this.view;var bQ;if(bO.isSelected||bO.selectedEvent){return}bQ=bO.opt("selectLongPressDelay");if(bQ==null){bQ=bO.opt("longPressDelay")}this.dayClickListener.startInteraction(bP);if(bO.opt("selectable")){this.daySelectListener.startInteraction(bP,{delay:bQ})}},buildDayClickListener:function(){var bR=this;var bO=this.view;var bP;var bQ=new az(this,{scroll:bO.opt("dragScroll"),interactionStart:function(){bP=bQ.origHit},hitOver:function(bT,bS,bU){if(!bS){bP=null}},hitOut:function(){bP=null},interactionEnd:function(bS,bT){var bU;if(!bT&&bP){bU=bR.getSafeHitSpan(bP);if(bU){bO.triggerDayClick(bU,bR.getHitEl(bP),bS)}}}});bQ.shouldCancelTouchScroll=false;bQ.scrollAlwaysKills=true;return bQ},buildDaySelectListener:function(){var bR=this;var bO=this.view;var bQ;var bP=new az(this,{scroll:bO.opt("dragScroll"),interactionStart:function(){bQ=null},dragStart:function(){bO.unselect()},hitOver:function(bU,bS,bW){var bT;var bV;if(bW){bT=bR.getSafeHitSpan(bW);bV=bR.getSafeHitSpan(bU);if(bT&&bV){bQ=bR.computeSelection(bT,bV)}else{bQ=null}if(bQ){bR.renderSelection(bQ)}else{if(bQ===false){bA()}}}},hitOut:function(){bQ=null;bR.unrenderSelection()},hitDone:function(){au()},interactionEnd:function(bS,bT){if(!bT&&bQ){bO.reportSelection(bQ,bS)}}});return bP},clearDragListeners:function(){this.dayClickListener.endInteraction();this.daySelectListener.endInteraction();if(this.segDragListener){this.segDragListener.endInteraction()}if(this.segResizeListener){this.segResizeListener.endInteraction()}if(this.externalDragListener){this.externalDragListener.endInteraction()}},renderEventLocationHelper:function(bP,bO){var bQ=this.fabricateHelperEvent(bP,bO);return this.renderHelper(bQ,bO)},fabricateHelperEvent:function(bP,bO){var bQ=bO?Z(bO.event):{};bQ.start=bP.start.clone();bQ.end=bP.end?bP.end.clone():null;bQ.allDay=null;this.view.calendar.normalizeEventDates(bQ);bQ.className=(bQ.className||[]).concat("fc-helper");if(!bO){bQ.editable=false}return bQ},renderHelper:function(bP,bO){},unrenderHelper:function(){},renderSelection:function(bO){this.renderHighlight(bO)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(bQ,bO){var bP=this.computeSelectionSpan(bQ,bO);if(bP&&!this.view.calendar.isSelectionSpanAllowed(bP)){return false}return bP},computeSelectionSpan:function(bP,bO){var bQ=[bP.start,bP.end,bO.start,bO.end];bQ.sort(ad);return{start:bQ[0].clone(),end:bQ[3].clone()}},renderHighlight:function(bO){this.renderFill("highlight",this.spanToSegs(bO))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(bO){},unrenderNowIndicator:function(){},renderFill:function(bP,bO){},unrenderFill:function(bP){var bO=this.elsByFill[bP];if(bO){bO.remove();delete this.elsByFill[bP]}},renderFillSegEls:function(bT,bP){var bU=this;var bO=this[bT+"SegEl"];var bS="";var bR=[];var bQ;if(bP.length){for(bQ=0;bQ<bP.length;bQ++){bS+=this.fillSegHtml(bT,bP[bQ])}bz(bS).each(function(bW,bY){var bV=bP[bW];var bX=bz(bY);if(bO){bX=bO.call(bU,bV,bX)}if(bX){bX=bz(bX);if(bX.is(bU.fillSegTag)){bV.el=bX;bR.push(bV)}}})}return bR},fillSegTag:"div",fillSegHtml:function(bS,bO){var bT=this[bS+"SegClasses"];var bP=this[bS+"SegCss"];var bR=bT?bT.call(this,bO):[];var bQ=O(bP?bP.call(this,bO):{});return"<"+this.fillSegTag+(bR.length?' class="'+bR.join(" ")+'"':"")+(bQ?' style="'+bQ+'"':"")+" />"},getDayClasses:function(bQ,bS){var bO=this.view;var bR=[];var bP;if(!x(bQ,bO.activeRange)){bR.push("fc-disabled-day")}else{bR.push("fc-"+aR[bQ.day()]);if(bO.currentRangeAs("months")==1&&bQ.month()!=bO.currentRange.start.month()){bR.push("fc-other-month")}bP=bO.calendar.getNow();if(bQ.isSame(bP,"day")){bR.push("fc-today");if(bS!==true){bR.push(bO.highlightStateClass)}}else{if(bQ<bP){bR.push("fc-past")}else{bR.push("fc-future")}}}return bR}});aI.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,isDraggingExternal:false,segs:null,renderEvents:function(bR){var bQ=[];var bO=[];var bP;for(bP=0;bP<bR.length;bP++){(ac(bR[bP])?bQ:bO).push(bR[bP])}this.segs=[].concat(this.renderBgEvents(bQ),this.renderFgEvents(bO))},renderBgEvents:function(bP){var bO=this.eventsToSegs(bP);return this.renderBgSegs(bO)||bO},renderFgEvents:function(bP){var bO=this.eventsToSegs(bP);return this.renderFgSegs(bO)||bO},unrenderEvents:function(){this.handleSegMouseout();this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(bO){},unrenderFgSegs:function(){},renderFgSegEls:function(bQ,bP){var bO=this.view;var bT="";var bS=[];var bR;if(bQ.length){for(bR=0;bR<bQ.length;bR++){bT+=this.fgSegHtml(bQ[bR],bP)}bz(bT).each(function(bV,bX){var bU=bQ[bV];var bW=bO.resolveEventEl(bU.event,bz(bX));if(bW){bW.data("fc-seg",bU);bU.el=bW;bS.push(bU)}})}return bS},fgSegHtml:function(bP,bO){},renderBgSegs:function(bO){return this.renderFill("bgEvent",bO)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(bO,bP){return this.view.resolveEventEl(bO.event,bP)},bgEventSegClasses:function(bO){var bP=bO.event;var bQ=bP.source||{};return["fc-bgevent"].concat(bP.className,bQ.className||[])},bgEventSegCss:function(bO){return{"background-color":this.getSegSkinCss(bO)["background-color"]}},businessHoursSegClasses:function(bO){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(bP,bO){return this.eventsToSegs(this.buildBusinessHourEvents(bP,bO))},buildBusinessHourEvents:function(bP,bO){var bR=this.view.calendar;var bQ;if(bO==null){bO=bR.opt("businessHours")}bQ=bR.computeBusinessHourEvents(bP,bO);if(!bQ.length&&bO){bQ=[bz.extend({},bN,{start:this.view.activeRange.end,end:this.view.activeRange.end,dow:null})]}return bQ},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(bO){this.bindSegHandlerToEl(bO,"touchstart",this.handleSegTouchStart);this.bindSegHandlerToEl(bO,"mouseenter",this.handleSegMouseover);this.bindSegHandlerToEl(bO,"mouseleave",this.handleSegMouseout);this.bindSegHandlerToEl(bO,"mousedown",this.handleSegMousedown);this.bindSegHandlerToEl(bO,"click",this.handleSegClick)},bindSegHandlerToEl:function(bQ,bO,bP){var bR=this;bQ.on(bO,this.segSelector,function(bT){var bS=bz(this).data("fc-seg");if(bS&&!bR.isDraggingSeg&&!bR.isResizingSeg){return bP.call(bR,bS,bT)}})},handleSegClick:function(bO,bQ){var bP=this.view.publiclyTrigger("eventClick",bO.el[0],bO.event,bQ);if(bP===false){bQ.preventDefault()}},handleSegMouseover:function(bO,bP){if(!ap.get().shouldIgnoreMouse()&&!this.mousedOverSeg){this.mousedOverSeg=bO;if(this.view.isEventResizable(bO.event)){bO.el.addClass("fc-allow-mouse-resize")}this.view.publiclyTrigger("eventMouseover",bO.el[0],bO.event,bP)}},handleSegMouseout:function(bO,bP){bP=bP||{};if(this.mousedOverSeg){bO=bO||this.mousedOverSeg;this.mousedOverSeg=null;if(this.view.isEventResizable(bO.event)){bO.el.removeClass("fc-allow-mouse-resize")}this.view.publiclyTrigger("eventMouseout",bO.el[0],bO.event,bP)}},handleSegMousedown:function(bO,bP){var bQ=this.startSegResize(bO,bP,{distance:5});if(!bQ&&this.view.isEventDraggable(bO.event)){this.buildSegDragListener(bO).startInteraction(bP,{distance:5})}},handleSegTouchStart:function(bV,bW){var bX=this.view;var bQ=bV.event;var bT=bX.isEventSelected(bQ);var bP=bX.isEventDraggable(bQ);var bS=bX.isEventResizable(bQ);var bU=false;var bO;var bR;if(bT&&bS){bU=this.startSegResize(bV,bW)}if(!bU&&(bP||bS)){bR=bX.opt("eventLongPressDelay");if(bR==null){bR=bX.opt("longPressDelay")}bO=bP?this.buildSegDragListener(bV):this.buildSegSelectListener(bV);bO.startInteraction(bW,{delay:bT?0:bR})}},startSegResize:function(bO,bQ,bP){if(bz(bQ.target).is(".fc-resizer")){this.buildSegResizeListener(bO,bz(bQ.target).is(".fc-start-resizer")).startInteraction(bQ,bP);return true}return false},buildSegDragListener:function(bS){var bU=this;var bW=this.view;var bR=bS.el;var bQ=bS.event;var bV;var bP;var bT;if(this.segDragListener){return this.segDragListener}var bO=this.segDragListener=new az(bW,{scroll:bW.opt("dragScroll"),subjectEl:bR,subjectCenter:true,interactionStart:function(bX){bS.component=bU;bV=false;bP=new be(bS.el,{additionalClass:"fc-dragging",parentEl:bW.el,opacity:bO.isTouch?null:bW.opt("dragOpacity"),revertDuration:bW.opt("dragRevertDuration"),zIndex:2});bP.hide();bP.start(bX)},dragStart:function(bX){if(bO.isTouch&&!bW.isEventSelected(bQ)){bW.selectEvent(bQ)}bV=true;bU.handleSegMouseout(bS,bX);bU.segDragStart(bS,bX);bW.hideEvent(bQ)},hitOver:function(b0,bX,b3){var bY=true;var bZ;var b2;var b1;if(bS.hit){b3=bS.hit}bZ=b3.component.getSafeHitSpan(b3);b2=b0.component.getSafeHitSpan(b0);if(bZ&&b2){bT=bU.computeEventDrop(bZ,b2,bQ);bY=bT&&bU.isEventLocationAllowed(bT,bQ)}else{bY=false}if(!bY){bT=null;bA()}if(bT&&(b1=bW.renderDrag(bT,bS))){b1.addClass("fc-dragging");if(!bO.isTouch){bU.applyDragOpacity(b1)}bP.hide()}else{bP.show()}if(bX){bT=null}},hitOut:function(){bW.unrenderDrag();bP.show();bT=null},hitDone:function(){au()},interactionEnd:function(bX){delete bS.component;bP.stop(!bT,function(){if(bV){bW.unrenderDrag();bU.segDragStop(bS,bX)}if(bT){bW.reportSegDrop(bS,bT,bU.largeUnit,bR,bX)}else{bW.showEvent(bQ)}});bU.segDragListener=null}});return bO},buildSegSelectListener:function(bP){var bS=this;var bO=this.view;var bR=bP.event;if(this.segDragListener){return this.segDragListener}var bQ=this.segDragListener=new bm({dragStart:function(bT){if(bQ.isTouch&&!bO.isEventSelected(bR)){bO.selectEvent(bR)}},interactionEnd:function(bT){bS.segDragListener=null}});return bQ},segDragStart:function(bO,bP){this.isDraggingSeg=true;this.view.publiclyTrigger("eventDragStart",bO.el[0],bO.event,bP,{})},segDragStop:function(bO,bP){this.isDraggingSeg=false;this.view.publiclyTrigger("eventDragStop",bO.el[0],bO.event,bP,{})},computeEventDrop:function(bQ,bV,bS){var bT=this.view.calendar;var bP=bQ.start;var bO=bV.start;var bU;var bR;if(bP.hasTime()===bO.hasTime()){bU=this.diffDates(bO,bP);if(bS.allDay&&ai(bU)){bR={start:bS.start.clone(),end:bT.getEventEnd(bS),allDay:false};bT.normalizeEventTimes(bR)}else{bR=X(bS)}bR.start.add(bU);if(bR.end){bR.end.add(bU)}}else{bR={start:bO.clone(),end:null,allDay:!bO.hasTime()}}return bR},applyDragOpacity:function(bP){var bO=this.view.opt("dragOpacity");if(bO!=null){bP.css("opacity",bO)}},externalDragStart:function(bR,bS){var bO=this.view;var bQ;var bP;if(bO.opt("droppable")){bQ=bz((bS?bS.item:null)||bR.target);bP=bO.opt("dropAccept");if(bz.isFunction(bP)?bP.call(bQ[0],bQ):bQ.is(bP)){if(!this.isDraggingExternal){this.listenToExternalDrag(bQ,bR,bS)}}}},listenToExternalDrag:function(bQ,bS,bT){var bV=this;var bO=this.view;var bU=R(bQ);var bR;var bP=bV.externalDragListener=new az(this,{interactionStart:function(){bV.isDraggingExternal=true},hitOver:function(bX){var bW=true;var bY=bX.component.getSafeHitSpan(bX);if(bY){bR=bV.computeExternalDrop(bY,bU);bW=bR&&bV.isExternalLocationAllowed(bR,bU.eventProps)}else{bW=false}if(!bW){bR=null;bA()}if(bR){bV.renderDrag(bR)}},hitOut:function(){bR=null},hitDone:function(){au();bV.unrenderDrag()},interactionEnd:function(bW){if(bR){bO.reportExternalDrop(bU,bR,bQ,bW,bT)}bV.isDraggingExternal=false;bV.externalDragListener=null}});bP.startDrag(bS)},computeExternalDrop:function(bO,bR){var bQ=this.view.calendar;var bP={start:bQ.applyTimezone(bO.start),end:null};if(bR.startTime&&!bP.start.hasTime()){bP.start.time(bR.startTime)}if(bR.duration){bP.end=bP.start.clone().add(bR.duration)}return bP},renderDrag:function(bP,bO){},unrenderDrag:function(){},buildSegResizeListener:function(bS,bP){var bV=this;var bX=this.view;var bT=bX.calendar;var bR=bS.el;var bQ=bS.event;var bU=bT.getEventEnd(bQ);var bW;var bY;var bO=this.segResizeListener=new az(this,{scroll:bX.opt("dragScroll"),subjectEl:bR,interactionStart:function(){bW=false},dragStart:function(bZ){bW=true;bV.handleSegMouseout(bS,bZ);bV.segResizeStart(bS,bZ)},hitOver:function(b2,bZ,b4){var b0=true;var b1=bV.getSafeHitSpan(b4);var b3=bV.getSafeHitSpan(b2);if(b1&&b3){bY=bP?bV.computeEventStartResize(b1,b3,bQ):bV.computeEventEndResize(b1,b3,bQ);b0=bY&&bV.isEventLocationAllowed(bY,bQ)}else{b0=false}if(!b0){bY=null;bA()}else{if(bY.start.isSame(bQ.start.clone().stripZone())&&bY.end.isSame(bU.clone().stripZone())){bY=null}}if(bY){bX.hideEvent(bQ);bV.renderEventResize(bY,bS)}},hitOut:function(){bY=null;bX.showEvent(bQ)},hitDone:function(){bV.unrenderEventResize();au()},interactionEnd:function(bZ){if(bW){bV.segResizeStop(bS,bZ)}if(bY){bX.reportSegResize(bS,bY,bV.largeUnit,bR,bZ)}else{bX.showEvent(bQ)}bV.segResizeListener=null}});return bO},segResizeStart:function(bO,bP){this.isResizingSeg=true;this.view.publiclyTrigger("eventResizeStart",bO.el[0],bO.event,bP,{})},segResizeStop:function(bO,bP){this.isResizingSeg=false;this.view.publiclyTrigger("eventResizeStop",bO.el[0],bO.event,bP,{})},computeEventStartResize:function(bO,bQ,bP){return this.computeEventResize("start",bO,bQ,bP)},computeEventEndResize:function(bO,bQ,bP){return this.computeEventResize("end",bO,bQ,bP)},computeEventResize:function(bP,bO,bV,bQ){var bS=this.view.calendar;var bU=this.diffDates(bV[bP],bO[bP]);var bT;var bR;bT={start:bQ.start.clone(),end:bS.getEventEnd(bQ),allDay:bQ.allDay};if(bT.allDay&&ai(bU)){bT.allDay=false;bS.normalizeEventTimes(bT)}bT[bP].add(bU);if(!bT.start.isBefore(bT.end)){bR=this.minResizeDuration||(bQ.allDay?bS.defaultAllDayEventDuration:bS.defaultTimedEventDuration);if(bP=="start"){bT.start=bT.end.clone().subtract(bR)}else{bT.end=bT.start.clone().add(bR)}}return bT},renderEventResize:function(bP,bO){},unrenderEventResize:function(){},getEventTimeText:function(bP,bO,bQ){if(bO==null){bO=this.eventTimeFormat}if(bQ==null){bQ=this.displayEventEnd}if(this.displayEventTime&&bP.start.hasTime()){if(bQ&&bP.end){return this.view.formatRange(bP,bO)}else{return bP.start.format(bO)}}return""},getSegClasses:function(bP,bR,bS){var bO=this.view;var bQ=["fc-event",bP.isStart?"fc-start":"fc-not-start",bP.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(bP));if(bR){bQ.push("fc-draggable")}if(bS){bQ.push("fc-resizable")}if(bO.isEventSelected(bP.event)){bQ.push("fc-selected")}return bQ},getSegCustomClasses:function(bO){var bP=bO.event;return[].concat(bP.className,bP.source?bP.source.className:[])},getSegSkinCss:function(bO){return{"background-color":this.getSegBackgroundColor(bO),"border-color":this.getSegBorderColor(bO),color:this.getSegTextColor(bO)}},getSegBackgroundColor:function(bO){return bO.event.backgroundColor||bO.event.color||this.getSegDefaultBackgroundColor(bO)},getSegDefaultBackgroundColor:function(bO){var bP=bO.event.source||{};return bP.backgroundColor||bP.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(bO){return bO.event.borderColor||bO.event.color||this.getSegDefaultBorderColor(bO)},getSegDefaultBorderColor:function(bO){var bP=bO.event.source||{};return bP.borderColor||bP.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(bO){return bO.event.textColor||this.getSegDefaultTextColor(bO)},getSegDefaultTextColor:function(bO){var bP=bO.event.source||{};return bP.textColor||this.view.opt("eventTextColor")},isEventLocationAllowed:function(bR,bQ){if(this.isEventLocationInRange(bR)){var bS=this.view.calendar;var bP=this.eventToSpans(bR);var bO;if(bP.length){for(bO=0;bO<bP.length;bO++){if(!bS.isEventSpanAllowed(bP[bO],bQ)){return false}}return true}}return false},isExternalLocationAllowed:function(bQ,bS){if(this.isEventLocationInRange(bQ)){var bR=this.view.calendar;var bP=this.eventToSpans(bQ);var bO;if(bP.length){for(bO=0;bO<bP.length;bO++){if(!bR.isExternalSpanAllowed(bP[bO],bQ,bS)){return false}}return true}}return false},isEventLocationInRange:function(bO){return aP(this.eventToRawRange(bO),this.view.validRange)},eventToSegs:function(bO){return this.eventsToSegs([bO])},eventToSpans:function(bP){var bO=this.eventToRange(bP);if(bO){return this.eventRangeToSpans(bO,bP)}else{return[]}},eventsToSegs:function(bP,bS){var bR=this;var bQ=aW(bP);var bO=[];bz.each(bQ,function(bY,bW){var bX=[];var bT=[];var bV;var bU;for(bU=0;bU<bW.length;bU++){bV=bR.eventToRange(bW[bU]);if(bV){bT.push(bV);bX.push(bW[bU])}}if(bi(bW[0])){bT=bR.invertRanges(bT);for(bU=0;bU<bT.length;bU++){bO.push.apply(bO,bR.eventRangeToSegs(bT[bU],bW[0],bS))}}else{for(bU=0;bU<bT.length;bU++){bO.push.apply(bO,bR.eventRangeToSegs(bT[bU],bX[bU],bS))}}});return bO},eventToRange:function(bO){return this.refineRawEventRange(this.eventToRawRange(bO))},refineRawEventRange:function(bQ){var bO=this.view;var bR=bO.calendar;var bP=g(bQ,bO.activeRange);if(bP){bR.localizeMoment(bP.start);bR.localizeMoment(bP.end);return bP}},eventToRawRange:function(bP){var bQ=this.view.calendar;var bR=bP.start.clone().stripZone();var bO=(bP.end?bP.end.clone():bQ.getDefaultEventEnd(bP.allDay!=null?bP.allDay:!bP.start.hasTime(),bP.start)).stripZone();return{start:bR,end:bO}},eventRangeToSegs:function(bQ,bS,bT){var bR=this.eventRangeToSpans(bQ,bS);var bO=[];var bP;for(bP=0;bP<bR.length;bP++){bO.push.apply(bO,this.eventSpanToSegs(bR[bP],bS,bT))}return bO},eventRangeToSpans:function(bO,bP){return[bz.extend({},bO)]},eventSpanToSegs:function(bR,bS,bT){var bP=bT?bT(bR):this.spanToSegs(bR);var bQ,bO;for(bQ=0;bQ<bP.length;bQ++){bO=bP[bQ];if(!bR.isStart){bO.isStart=false}if(!bR.isEnd){bO.isEnd=false}bO.event=bS;bO.eventStartMS=+bR.start;bO.eventDurationMS=bR.end-bR.start}return bP},invertRanges:function(bP){var bO=this.view;var bV=bO.activeRange.start.clone();var bS=bO.activeRange.end.clone();var bT=[];var bU=bV;var bR,bQ;bP.sort(i);for(bR=0;bR<bP.length;bR++){bQ=bP[bR];if(bQ.start>bU){bT.push({start:bU,end:bQ.start})}if(bQ.end>bU){bU=bQ.end}}if(bU<bS){bT.push({start:bU,end:bS})}return bT},sortEventSegs:function(bO){bO.sort(aH(this,"compareEventSegs"))},compareEventSegs:function(bP,bO){return bP.eventStartMS-bO.eventStartMS||bO.eventDurationMS-bP.eventDurationMS||bO.event.allDay-bP.event.allDay||bh(bP.event,bO.event,this.view.eventOrderSpecs)}});function X(bO){return{start:bO.start.clone(),end:bO.end?bO.end.clone():null,allDay:bO.allDay}}C.pluckEventDateProps=X;function ac(bP){var bO=bg(bP);return bO==="background"||bO==="inverse-background"}C.isBgEvent=ac;function bi(bO){return bg(bO)==="inverse-background"}function bg(bO){return ab((bO.source||{}).rendering,bO.rendering)}function aW(bP){var bQ={};var bO,bR;for(bO=0;bO<bP.length;bO++){bR=bP[bO];(bQ[bR._id]||(bQ[bR._id]=[])).push(bR)}return bQ}function i(bP,bO){return bP.start-bO.start}C.dataAttrPrefix="";function R(bQ){var bS=C.dataAttrPrefix;var bR;var bP;var bT;var bO;if(bS){bS+="-"}bR=bQ.data(bS+"event")||null;if(bR){if(typeof bR==="object"){bR=bz.extend({},bR)}else{bR={}}bP=bR.start;if(bP==null){bP=bR.time}bT=bR.duration;bO=bR.stick;delete bR.start;delete bR.time;delete bR.duration;delete bR.stick}if(bP==null){bP=bQ.data(bS+"start")}if(bP==null){bP=bQ.data(bS+"time")}if(bT==null){bT=bQ.data(bS+"duration")}if(bO==null){bO=bQ.data(bS+"stick")}bP=bP!=null?a9.duration(bP):null;bT=bT!=null?a9.duration(bT):null;bO=Boolean(bO);return{eventProps:bR,startTime:bP,duration:bT,stick:bO}}var a0=C.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var bP=this.view;var bS=this.start.clone();var bT=-1;var bO=[];var bV=[];var bR;var bQ;var bU;while(bS.isBefore(this.end)){if(bP.isHiddenDay(bS)){bO.push(bT+0.5)}else{bT++;bO.push(bT);bV.push(bS.clone())}bS.add(1,"days")}if(this.breakOnWeeks){bQ=bV[0].day();for(bR=1;bR<bV.length;bR++){if(bV[bR].day()==bQ){break}}bU=Math.ceil(bV.length/bR)}else{bU=1;bR=bV.length}this.dayDates=bV;this.dayIndices=bO;this.daysPerRow=bR;this.rowCnt=bU;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(bP,bO){return this.dayDates[this.getCellDayIndex(bP,bO)].clone()},getCellRange:function(bQ,bP){var bR=this.getCellDate(bQ,bP);var bO=bR.clone().add(1,"days");return{start:bR,end:bO}},getCellDayIndex:function(bP,bO){return bP*this.daysPerRow+this.getColDayIndex(bO)},getColDayIndex:function(bO){if(this.isRTL){return this.colCnt-1-bO}else{return bO}},getDateDayIndex:function(bQ){var bO=this.dayIndices;var bP=bQ.diff(this.start,"days");if(bP<0){return bO[0]-1}else{if(bP>=bO.length){return bO[bO.length-1]+1}else{return bO[bP]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.view.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(bR){var bW=this.daysPerRow;var bQ=this.view.computeDayRange(bR);var bP=this.getDateDayIndex(bQ.start);var bT=this.getDateDayIndex(bQ.end.clone().subtract(1,"days"));var bO=[];var bY;var bU,bV;var bX,bS;for(bY=0;bY<this.rowCnt;bY++){bU=bY*bW;bV=bU+bW-1;bX=Math.max(bP,bU);bS=Math.min(bT,bV);bX=Math.ceil(bX);bS=Math.floor(bS);if(bX<=bS){bO.push({row:bY,firstRowDayIndex:bX-bU,lastRowDayIndex:bS-bU,isStart:bX===bP,isEnd:bS===bT})}}return bO},sliceRangeByDay:function(bS){var bX=this.daysPerRow;var bR=this.view.computeDayRange(bS);var bP=this.getDateDayIndex(bR.start);var bU=this.getDateDayIndex(bR.end.clone().subtract(1,"days"));var bO=[];var bZ;var bV,bW;var bQ;var bY,bT;for(bZ=0;bZ<this.rowCnt;bZ++){bV=bZ*bX;bW=bV+bX-1;for(bQ=bV;bQ<=bW;bQ++){bY=Math.max(bP,bQ);bT=Math.min(bU,bQ);bY=Math.ceil(bY);bT=Math.floor(bT);if(bY<=bT){bO.push({row:bZ,firstRowDayIndex:bY-bV,lastRowDayIndex:bT-bV,isStart:bY===bP,isEnd:bT===bU})}}}return bO},renderHeadHtml:function(){var bO=this.view;return'<div class="fc-row '+bO.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var bQ=[];var bP,bO;for(bP=0;bP<this.colCnt;bP++){bO=this.getCellDate(0,bP);bQ.push(this.renderHeadDateCellHtml(bO))}return bQ.join("")},renderHeadDateCellHtml:function(bR,bU,bO){var bP=this.view;var bS=x(bR,bP.activeRange);var bT=["fc-day-header",bP.widgetHeaderClass];var bQ=aM(bR.format(this.colHeadFormat));if(this.rowCnt===1){bT=bT.concat(this.getDayClasses(bR,true))}else{bT.push("fc-"+aR[bR.day()])}return'<th class="'+bT.join(" ")+'"'+((bS&&this.rowCnt)===1?' data-date="'+bR.format("YYYY-MM-DD")+'"':"")+(bU>1?' colspan="'+bU+'"':"")+(bO?" "+bO:"")+">"+(bS?bP.buildGotoAnchorHtml({date:bR,forceOff:this.rowCnt>1||this.colCnt===1},bQ):bQ)+"</th>"},renderBgTrHtml:function(bO){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(bO))+this.renderBgCellsHtml(bO)+(this.isRTL?this.renderBgIntroHtml(bO):"")+"</tr>"},renderBgIntroHtml:function(bO){return this.renderIntroHtml()},renderBgCellsHtml:function(bR){var bQ=[];var bP,bO;for(bP=0;bP<this.colCnt;bP++){bO=this.getCellDate(bR,bP);bQ.push(this.renderBgCellHtml(bO))}return bQ.join("")},renderBgCellHtml:function(bQ,bO){var bP=this.view;var bS=x(bQ,bP.activeRange);var bR=this.getDayClasses(bQ);bR.unshift("fc-day",bP.widgetContentClass);return'<td class="'+bR.join(" ")+'"'+(bS?' data-date="'+bQ.format("YYYY-MM-DD")+'"':"")+(bO?" "+bO:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(bP){var bO=this.renderIntroHtml();if(bO){if(this.isRTL){bP.append(bO)}else{bP.prepend(bO)}}}};var bC=C.DayGrid=aI.extend(a0,{numbersVisible:false,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(bP){var bO=this.view;var bU=this.rowCnt;var bR=this.colCnt;var bS="";var bT;var bQ;for(bT=0;bT<bU;bT++){bS+=this.renderDayRowHtml(bT,bP)}this.el.html(bS);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day, .fc-disabled-day");this.rowCoordCache=new ao({els:this.rowEls,isVertical:true});this.colCoordCache=new ao({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(bT=0;bT<bU;bT++){for(bQ=0;bQ<bR;bQ++){bO.publiclyTrigger("dayRender",null,this.getCellDate(bT,bQ),this.getCellEl(bT,bQ))}}},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var bO=this.buildBusinessHourSegs(true);this.renderFill("businessHours",bO,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(bR,bP){var bO=this.view;var bQ=["fc-row","fc-week",bO.widgetContentClass];if(bP){bQ.push("fc-rigid")}return'<div class="'+bQ.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(bR)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(bR)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(bO){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(bO))+this.renderNumberCellsHtml(bO)+(this.isRTL?this.renderNumberIntroHtml(bO):"")+"</tr>"},renderNumberIntroHtml:function(bO){return this.renderIntroHtml()},renderNumberCellsHtml:function(bR){var bQ=[];var bP,bO;for(bP=0;bP<this.colCnt;bP++){bO=this.getCellDate(bR,bP);bQ.push(this.renderNumberCellHtml(bO))}return bQ.join("")},renderNumberCellHtml:function(bQ){var bP=this.view;var bT="";var bU=x(bQ,bP.activeRange);var bO=bP.dayNumbersVisible&&bU;var bS;var bR;if(!bO&&!bP.cellWeekNumbersVisible){return"<td/>"}bS=this.getDayClasses(bQ);bS.unshift("fc-day-top");if(bP.cellWeekNumbersVisible){if(bQ._locale._fullCalendar_weekCalc==="ISO"){bR=1}else{bR=bQ._locale.firstDayOfWeek()}}bT+='<td class="'+bS.join(" ")+'"'+(bU?' data-date="'+bQ.format()+'"':"")+">";if(bP.cellWeekNumbersVisible&&(bQ.day()==bR)){bT+=bP.buildGotoAnchorHtml({date:bQ,type:"week"},{"class":"fc-week-number"},bQ.format("w"))}if(bO){bT+=bP.buildGotoAnchorHtml(bQ,{"class":"fc-day-number"},bQ.date())}bT+="</td>";return bT},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.colCnt==1},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(bR){var bP=this.sliceRangeByRow(bR);var bQ,bO;for(bQ=0;bQ<bP.length;bQ++){bO=bP[bQ];if(this.isRTL){bO.leftCol=this.daysPerRow-1-bO.lastRowDayIndex;bO.rightCol=this.daysPerRow-1-bO.firstRowDayIndex}else{bO.leftCol=bO.firstRowDayIndex;bO.rightCol=bO.lastRowDayIndex}}return bP},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(bQ,bP){if(this.colCoordCache.isLeftInBounds(bQ)&&this.rowCoordCache.isTopInBounds(bP)){var bO=this.colCoordCache.getHorizontalIndex(bQ);var bR=this.rowCoordCache.getVerticalIndex(bP);if(bR!=null&&bO!=null){return this.getCellHit(bR,bO)}}},getHitSpan:function(bO){return this.getCellRange(bO.row,bO.col)},getHitEl:function(bO){return this.getCellEl(bO.row,bO.col)},getCellHit:function(bP,bO){return{row:bP,col:bO,component:this,left:this.colCoordCache.getLeftOffset(bO),right:this.colCoordCache.getRightOffset(bO),top:this.rowCoordCache.getTopOffset(bP),bottom:this.rowCoordCache.getBottomOffset(bP)}},getCellEl:function(bP,bO){return this.cellEls.eq(bP*this.colCnt+bO)},renderDrag:function(bR,bO){var bQ=this.eventToSpans(bR);var bP;for(bP=0;bP<bQ.length;bP++){this.renderHighlight(bQ[bP])}if(bO&&bO.component!==this){return this.renderEventLocationHelper(bR,bO)}},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(bR,bO){var bQ=this.eventToSpans(bR);var bP;for(bP=0;bP<bQ.length;bP++){this.renderHighlight(bQ[bP])}return this.renderEventLocationHelper(bR,bO)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(bS,bQ){var bO=[];var bP=this.eventToSegs(bS);var bR;bP=this.renderFgSegEls(bP);bR=this.renderSegRows(bP);this.rowEls.each(function(bX,bV){var bU=bz(bV);var bW=bz('<div class="fc-helper-skeleton"><table/></div>');var bT;if(bQ&&bQ.row===bX){bT=bQ.el.position().top}else{bT=bU.find(".fc-content-skeleton tbody").position().top}bW.css("top",bT).find("table").append(bR[bX].tbodyEl);bU.append(bW);bO.push(bW[0])});return(this.helperEls=bz(bO))},unrenderHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fillSegTag:"td",renderFill:function(bT,bP,bS){var bQ=[];var bR,bO;var bU;bP=this.renderFillSegEls(bT,bP);for(bR=0;bR<bP.length;bR++){bO=bP[bR];bU=this.renderFillRow(bT,bO,bS);this.rowEls.eq(bO.row).append(bU);bQ.push(bU[0])}this.elsByFill[bT]=bz(bQ);return bP},renderFillRow:function(bR,bO,bQ){var bP=this.colCnt;var bU=bO.leftCol;var bT=bO.rightCol+1;var bV;var bS;bQ=bQ||bR.toLowerCase();bV=bz('<div class="fc-'+bQ+'-skeleton"><table><tr/></table></div>');bS=bV.find("tr");if(bU>0){bS.append('<td colspan="'+bU+'"/>')}bS.append(bO.el.attr("colspan",bT-bU));if(bT<bP){bS.append('<td colspan="'+(bP-bT)+'"/>')}this.bookendCells(bS);return bV}});bC.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();aI.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return aI.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(bO){var bP=bz.grep(bO,function(bQ){return bQ.event.allDay});return aI.prototype.renderBgSegs.call(this,bP)},renderFgSegs:function(bO){var bP;bO=this.renderFgSegEls(bO);bP=this.rowStructs=this.renderSegRows(bO);this.rowEls.each(function(bQ,bR){bz(bR).find(".fc-content-skeleton > table").append(bP[bQ].tbodyEl)});return bO},unrenderFgSegs:function(){var bP=this.rowStructs||[];var bO;while((bO=bP.pop())){bO.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(bP){var bQ=[];var bO;var bR;bO=this.groupSegRows(bP);for(bR=0;bR<bO.length;bR++){bQ.push(this.renderSegRow(bR,bO[bR]))}return bQ},fgSegHtml:function(bV,bQ){var bY=this.view;var bP=bV.event;var bO=bY.isEventDraggable(bP);var bT=!bQ&&bP.allDay&&bV.isStart&&bY.isEventResizableFromStart(bP);var bS=!bQ&&bP.allDay&&bV.isEnd&&bY.isEventResizableFromEnd(bP);var bU=this.getSegClasses(bV,bO,bT||bS);var bZ=O(this.getSegSkinCss(bV));var bX="";var bR;var bW;bU.unshift("fc-day-grid-event","fc-h-event");if(bV.isStart){bR=this.getEventTimeText(bP);if(bR){bX='<span class="fc-time">'+aM(bR)+"</span>"}}bW='<span class="fc-title">'+(aM(bP.title||"")||"&nbsp;")+"</span>";return'<a class="'+bU.join(" ")+'"'+(bP.url?' href="'+aM(bP.url)+'"':"")+(bZ?' style="'+bZ+'"':"")+'><div class="fc-content">'+(this.isRTL?bW+" "+bX:bX+" "+bW)+"</div>"+(bT?'<div class="fc-resizer fc-start-resizer" />':"")+(bS?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(b3,b4){var b1=this.colCnt;var bX=this.buildSegLevels(b4);var bO=Math.max(1,bX.length);var bW=bz("<tbody/>");var bS=[];var bY=[];var bQ=[];var bV,b0;var bP;var bZ;var bU,bT;var bR;function b2(b5){while(bP<b5){bR=(bQ[bV-1]||[])[bP];if(bR){bR.attr("rowspan",parseInt(bR.attr("rowspan")||1,10)+1)}else{bR=bz("<td/>");bZ.append(bR)}bY[bV][bP]=bR;bQ[bV][bP]=bR;bP++}}for(bV=0;bV<bO;bV++){b0=bX[bV];bP=0;bZ=bz("<tr/>");bS.push([]);bY.push([]);bQ.push([]);if(b0){for(bU=0;bU<b0.length;bU++){bT=b0[bU];b2(bT.leftCol);bR=bz('<td class="fc-event-container"/>').append(bT.el);if(bT.leftCol!=bT.rightCol){bR.attr("colspan",bT.rightCol-bT.leftCol+1)}else{bQ[bV][bP]=bR}while(bP<=bT.rightCol){bY[bV][bP]=bR;bS[bV][bP]=bT;bP++}bZ.append(bR)}}b2(b1);this.bookendCells(bZ);bW.append(bZ)}return{row:b3,tbodyEl:bW,cellMatrix:bY,segMatrix:bS,segLevels:bX,segs:b4}},buildSegLevels:function(bP){var bS=[];var bR,bO;var bQ;this.sortEventSegs(bP);for(bR=0;bR<bP.length;bR++){bO=bP[bR];for(bQ=0;bQ<bS.length;bQ++){if(!K(bO,bS[bQ])){break}}bO.level=bQ;(bS[bQ]||(bS[bQ]=[])).push(bO)}for(bQ=0;bQ<bS.length;bQ++){bS[bQ].sort(aL)}return bS},groupSegRows:function(bP){var bO=[];var bQ;for(bQ=0;bQ<this.rowCnt;bQ++){bO.push([])}for(bQ=0;bQ<bP.length;bQ++){bO[bP[bQ].row].push(bP[bQ])}return bO}});function K(bO,bR){var bP,bQ;for(bP=0;bP<bR.length;bP++){bQ=bR[bP];if(bQ.leftCol<=bO.rightCol&&bQ.rightCol>=bO.leftCol){return true}}return false}function aL(bP,bO){return bP.leftCol-bO.leftCol}bC.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(bQ){var bO=this.rowStructs||[];var bR;var bP;for(bR=0;bR<bO.length;bR++){this.unlimitRow(bR);if(!bQ){bP=false}else{if(typeof bQ==="number"){bP=bQ}else{bP=this.computeRowLevelLimit(bR)}}if(bP!==false){this.limitRow(bR,bP)}}},computeRowLevelLimit:function(bV){var bQ=this.rowEls.eq(bV);var bU=bQ.height();var bP=this.rowStructs[bV].tbodyEl.children();var bR,bT;var bO;function bS(bX,bW){bO=Math.max(bO,bz(bW).outerHeight())}for(bR=0;bR<bP.length;bR++){bT=bP.eq(bR).removeClass("fc-limited");bO=0;bT.find("> td > :first-child").each(bS);if(bT.position().top+bO>bU){return bR}}return false},limitRow:function(bW,b0){var b2=this;var bQ=this.rowStructs[bW];var bV=[];var bU=0;var bO;var bT;var b7;var b5,b6;var b9;var bX;var bP;var bY,b8;var bS;var b3;var bR,b4,b1;function bZ(ca){while(bU<ca){b9=b2.getCellSegs(bW,bU,b0);if(b9.length){bY=bT[b0-1][bU];b1=b2.renderMoreLink(bW,bU,b9);b4=bz("<div/>").append(b1);bY.append(b4);bV.push(b4[0])}bU++}}if(b0&&b0<bQ.segLevels.length){bO=bQ.segLevels[b0-1];bT=bQ.cellMatrix;b7=bQ.tbodyEl.children().slice(b0).addClass("fc-limited").get();for(b5=0;b5<bO.length;b5++){b6=bO[b5];bZ(b6.leftCol);bP=[];bX=0;while(bU<=b6.rightCol){b9=this.getCellSegs(bW,bU,b0);bP.push(b9);bX+=b9.length;bU++}if(bX){bY=bT[b0-1][b6.leftCol];b8=bY.attr("rowspan")||1;bS=[];for(b3=0;b3<bP.length;b3++){bR=bz('<td class="fc-more-cell"/>').attr("rowspan",b8);b9=bP[b3];b1=this.renderMoreLink(bW,b6.leftCol+b3,[b6].concat(b9));b4=bz("<div/>").append(b1);bR.append(b4);bS.push(bR[0]);bV.push(bR[0])}bY.addClass("fc-limited").after(bz(bS));b7.push(bY[0])}}bZ(this.colCnt);bQ.moreEls=bz(bV);bQ.limitedEls=bz(b7)}},unlimitRow:function(bP){var bO=this.rowStructs[bP];if(bO.moreEls){bO.moreEls.remove();bO.moreEls=null}if(bO.limitedEls){bO.limitedEls.removeClass("fc-limited");bO.limitedEls=null}},renderMoreLink:function(bR,bQ,bP){var bS=this;var bO=this.view;return bz('<a class="fc-more"/>').text(this.getMoreLinkText(bP.length)).on("click",function(bX){var b0=bO.opt("eventLimitClick");var bU=bS.getCellDate(bR,bQ);var bY=bz(this);var bZ=bS.getCellEl(bR,bQ);var bT=bS.getCellSegs(bR,bQ);var bV=bS.resliceDaySegs(bT,bU);var bW=bS.resliceDaySegs(bP,bU);if(typeof b0==="function"){b0=bO.publiclyTrigger("eventLimitClick",null,{date:bU,dayEl:bZ,moreEl:bY,segs:bV,hiddenSegs:bW},bX)}if(b0==="popover"){bS.showSegPopover(bR,bQ,bY,bV)}else{if(typeof b0==="string"){bO.calendar.zoomTo(bU,b0)}}})},showSegPopover:function(bW,bQ,bU,bO){var bR=this;var bT=this.view;var bP=bU.parent();var bS;var bV;if(this.rowCnt==1){bS=bT.el}else{bS=this.rowEls.eq(bW)}bV={className:"fc-more-popover",content:this.renderSegPopoverContent(bW,bQ,bO),parentEl:this.view.el,top:bS.offset().top,autoHide:true,viewportConstrain:bT.opt("popoverViewportConstrain"),hide:function(){if(bR.popoverSegs){var bX;for(var bY=0;bY<bR.popoverSegs.length;++bY){bX=bR.popoverSegs[bY];bT.publiclyTrigger("eventDestroy",bX.event,bX.event,bX.el)}}bR.segPopover.removeElement();bR.segPopover=null;bR.popoverSegs=null}};if(this.isRTL){bV.right=bP.offset().left+bP.outerWidth()+1}else{bV.left=bP.offset().left-1}this.segPopover=new a2(bV);this.segPopover.show();this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(bW,bP,bO){var bT=this.view;var bQ=bT.opt("theme");var bU=this.getCellDate(bW,bP).format(bT.opt("dayPopoverFormat"));var bS=bz('<div class="fc-header '+bT.widgetHeaderClass+'"><span class="fc-close '+(bQ?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+aM(bU)+'</span><div class="fc-clear"/></div><div class="fc-body '+bT.widgetContentClass+'"><div class="fc-event-container"></div></div>');var bV=bS.find(".fc-event-container");var bR;bO=this.renderFgSegEls(bO,true);this.popoverSegs=bO;for(bR=0;bR<bO.length;bR++){this.hitsNeeded();bO[bR].hit=this.getCellHit(bW,bP);this.hitsNotNeeded();bV.append(bO[bR].el)}return bS},resliceDaySegs:function(bQ,bO){var bS=bz.map(bQ,function(bU){return bU.event});var bP=bO.clone();var bT=bP.clone().add(1,"days");var bR={start:bP,end:bT};bQ=this.eventsToSegs(bS,function(bV){var bU=g(bV,bR);return bU?[bU]:[]});this.sortEventSegs(bQ);return bQ},getMoreLinkText:function(bO){var bP=this.view.opt("eventLimitText");if(typeof bP==="function"){return bP(bO)}else{return"+"+bO+" "+bP}},getCellSegs:function(bT,bQ,bR){var bS=this.rowStructs[bT].segMatrix;var bU=bR||0;var bP=[];var bO;while(bU<bS.length){bO=bS[bU][bQ];if(bO){bP.push(bO)}bU++}return bP}});var m=C.TimeGrid=aI.extend(a0,{slotDuration:null,snapDuration:null,snapsPerSlot:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){aI.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day, .fc-disabled-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new ao({els:this.colEls,isHorizontal:true});this.slatCoordCache=new ao({els:this.slatEls,isVertical:true});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){var bO=this.view;var bS=this.isRTL;var bR="";var bT=a9.duration(+this.view.minTime);var bQ;var bP;var bU;while(bT<this.view.maxTime){bQ=this.start.clone().time(bT);bP=bD(I(bT,this.labelInterval));bU='<td class="fc-axis fc-time '+bO.widgetContentClass+'" '+bO.axisStyleAttr()+">"+(bP?"<span>"+aM(bQ.format(this.labelFormat))+"</span>":"")+"</td>";bR+='<tr data-time="'+bQ.format("HH:mm:ss")+'"'+(bP?"":' class="fc-minor"')+">"+(!bS?bU:"")+'<td class="'+bO.widgetContentClass+'"/>'+(bS?bU:"")+"</tr>";bT.add(this.slotDuration)}return bR},processOptions:function(){var bO=this.view;var bR=bO.opt("slotDuration");var bQ=bO.opt("snapDuration");var bP;bR=a9.duration(bR);bQ=bQ?a9.duration(bQ):bR;this.slotDuration=bR;this.snapDuration=bQ;this.snapsPerSlot=bR/bQ;this.minResizeDuration=bQ;bP=bO.opt("slotLabelFormat");if(bz.isArray(bP)){bP=bP[bP.length-1]}this.labelFormat=bP||bO.opt("smallTimeFormat");bP=bO.opt("slotLabelInterval");this.labelInterval=bP?a9.duration(bP):this.computeLabelInterval(bR)},computeLabelInterval:function(bQ){var bP;var bO;var bR;for(bP=a3.length-1;bP>=0;bP--){bO=a9.duration(a3[bP]);bR=I(bO,bQ);if(bD(bR)&&bR>1){return bO}}return a9.duration(bQ)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(bP,bV){var bS=this.snapsPerSlot;var bY=this.colCoordCache;var bO=this.slatCoordCache;if(bY.isLeftInBounds(bP)&&bO.isTopInBounds(bV)){var b0=bY.getHorizontalIndex(bP);var b1=bO.getVerticalIndex(bV);if(b0!=null&&b1!=null){var bZ=bO.getTopOffset(b1);var bW=bO.getHeight(b1);var bX=(bV-bZ)/bW;var bQ=Math.floor(bX*bS);var bU=b1*bS+bQ;var bT=bZ+(bQ/bS)*bW;var bR=bZ+((bQ+1)/bS)*bW;return{col:b0,snap:bU,component:this,left:bY.getLeftOffset(b0),right:bY.getRightOffset(b0),top:bT,bottom:bR}}}},getHitSpan:function(bP){var bR=this.getCellDate(0,bP.col);var bQ=this.computeSnapTime(bP.snap);var bO;bR.time(bQ);bO=bR.clone().add(this.snapDuration);return{start:bR,end:bO}},getHitEl:function(bO){return this.colEls.eq(bO.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(bO){return a9.duration(this.view.minTime+this.snapDuration*bO)},spanToSegs:function(bQ){var bO=this.sliceRangeByTimes(bQ);var bP;for(bP=0;bP<bO.length;bP++){if(this.isRTL){bO[bP].col=this.daysPerRow-1-bO[bP].dayIndex}else{bO[bP].col=bO[bP].dayIndex}}return bO},sliceRangeByTimes:function(bR){var bQ=[];var bP;var bT;var bO;var bS;for(bT=0;bT<this.daysPerRow;bT++){bO=this.dayDates[bT].clone().time(0);bS={start:bO.clone().add(this.view.minTime),end:bO.clone().add(this.view.maxTime)};bP=g(bR,bS);if(bP){bP.dayIndex=bT;bQ.push(bP)}}return bQ},updateSize:function(bO){this.slatCoordCache.build();if(bO){this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(bO,bP){return this.computeTimeTop(a9.duration(bO-bP.clone().stripTime()))},computeTimeTop:function(bS){var bO=this.slatEls.length;var bR=(bS-this.view.minTime)/this.slotDuration;var bQ;var bP;bR=Math.max(0,bR);bR=Math.min(bO,bR);bQ=Math.floor(bR);bQ=Math.min(bQ,bO-1);bP=bR-bQ;return this.slatCoordCache.getTopPosition(bQ)+this.slatCoordCache.getHeight(bQ)*bP},renderDrag:function(bR,bO){var bQ;var bP;if(bO){return this.renderEventLocationHelper(bR,bO)}else{bQ=this.eventToSpans(bR);for(bP=0;bP<bQ.length;bP++){this.renderHighlight(bQ[bP])}}},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(bP,bO){return this.renderEventLocationHelper(bP,bO)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(bP,bO){return this.renderHelperSegs(this.eventToSegs(bP),bO)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(bQ){var bO=this.spanToSegs({start:bQ,end:bQ});var bS=this.computeDateTop(bQ,bQ);var bP=[];var bR;for(bR=0;bR<bO.length;bR++){bP.push(bz('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",bS).appendTo(this.colContainerEls.eq(bO[bR].col))[0])}if(bO.length>0){bP.push(bz('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",bS).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=bz(bP)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},renderSelection:function(bO){if(this.view.opt("selectHelper")){this.renderEventLocationHelper(bO)}else{this.renderHighlight(bO)}},unrenderSelection:function(){this.unrenderHelper();this.unrenderHighlight()},renderHighlight:function(bO){this.renderHighlightSegs(this.spanToSegs(bO))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});m.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var bQ="";var bO;var bP;for(bO=0;bO<this.colCnt;bO++){bQ+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}bP=bz('<div class="fc-content-skeleton"><table><tr>'+bQ+"</tr></table></div>");this.colContainerEls=bP.find(".fc-content-col");this.helperContainerEls=bP.find(".fc-helper-container");this.fgContainerEls=bP.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=bP.find(".fc-bgevent-container");this.highlightContainerEls=bP.find(".fc-highlight-container");this.businessContainerEls=bP.find(".fc-business-container");this.bookendCells(bP.find("tr"));this.el.append(bP)},renderFgSegs:function(bO){bO=this.renderFgSegsIntoContainers(bO,this.fgContainerEls);this.fgSegs=bO;return bO},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(bP,bR){var bT=[];var bS,bO;var bQ;bP=this.renderFgSegsIntoContainers(bP,this.helperContainerEls);for(bS=0;bS<bP.length;bS++){bO=bP[bS];if(bR&&bR.col===bO.col){bQ=bR.el;bO.el.css({left:bQ.css("left"),right:bQ.css("right"),"margin-left":bQ.css("margin-left"),"margin-right":bQ.css("margin-right")})}bT.push(bO.el[0])}this.helperSegs=bP;return bz(bT)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(bO){bO=this.renderFillSegEls("bgEvent",bO);this.updateSegVerticals(bO);this.attachSegsByCol(this.groupSegsByCol(bO),this.bgContainerEls);this.bgSegs=bO;return bO},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(bO){bO=this.renderFillSegEls("highlight",bO);this.updateSegVerticals(bO);this.attachSegsByCol(this.groupSegsByCol(bO),this.highlightContainerEls);this.highlightSegs=bO},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(bO){bO=this.renderFillSegEls("businessHours",bO);this.updateSegVerticals(bO);this.attachSegsByCol(this.groupSegsByCol(bO),this.businessContainerEls);this.businessSegs=bO},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(bO){var bQ=[];var bP;for(bP=0;bP<this.colCnt;bP++){bQ.push([])}for(bP=0;bP<bO.length;bP++){bQ[bO[bP].col].push(bO[bP])}return bQ},attachSegsByCol:function(bS,bR){var bP;var bO;var bQ;for(bP=0;bP<this.colCnt;bP++){bO=bS[bP];for(bQ=0;bQ<bO.length;bQ++){bR.eq(bP).append(bO[bQ].el)}}},unrenderNamedSegs:function(bQ){var bO=this[bQ];var bP;if(bO){for(bP=0;bP<bO.length;bP++){bO[bP].el.remove()}this[bQ]=null}},renderFgSegsIntoContainers:function(bO,bQ){var bR;var bP;bO=this.renderFgSegEls(bO);bR=this.groupSegsByCol(bO);for(bP=0;bP<this.colCnt;bP++){this.updateFgSegCoords(bR[bP])}this.attachSegsByCol(bR,bQ);return bO},fgSegHtml:function(bW,bQ){var bY=this.view;var bP=bW.event;var bO=bY.isEventDraggable(bP);var bU=!bQ&&bW.isStart&&bY.isEventResizableFromStart(bP);var bT=!bQ&&bW.isEnd&&bY.isEventResizableFromEnd(bP);var bV=this.getSegClasses(bW,bO,bU||bT);var bZ=O(this.getSegSkinCss(bW));var bS;var bX;var bR;bV.unshift("fc-time-grid-event","fc-v-event");if(bY.isMultiDayEvent(bP)){if(bW.isStart||bW.isEnd){bS=this.getEventTimeText(bW);bX=this.getEventTimeText(bW,"LT");bR=this.getEventTimeText(bW,null,false)}}else{bS=this.getEventTimeText(bP);bX=this.getEventTimeText(bP,"LT");bR=this.getEventTimeText(bP,null,false)}return'<a class="'+bV.join(" ")+'"'+(bP.url?' href="'+aM(bP.url)+'"':"")+(bZ?' style="'+bZ+'"':"")+'><div class="fc-content">'+(bS?'<div class="fc-time" data-start="'+aM(bR)+'" data-full="'+aM(bX)+'"><span>'+aM(bS)+"</span></div>":"")+(bP.title?'<div class="fc-title">'+aM(bP.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(bT?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(bO){this.computeSegVerticals(bO);this.assignSegVerticals(bO)},computeSegVerticals:function(bQ){var bR,bP;var bO;for(bR=0;bR<bQ.length;bR++){bP=bQ[bR];bO=this.dayDates[bP.dayIndex];bP.top=this.computeDateTop(bP.start,bO);bP.bottom=this.computeDateTop(bP.end,bO)}},assignSegVerticals:function(bP){var bQ,bO;for(bQ=0;bQ<bP.length;bQ++){bO=bP[bQ];bO.el.css(this.generateSegVerticalCss(bO))}},generateSegVerticalCss:function(bO){return{top:bO.top,bottom:-bO.bottom}},updateFgSegCoords:function(bO){this.computeSegVerticals(bO);this.computeFgSegHorizontals(bO);this.assignSegVerticals(bO);this.assignFgSegHorizontals(bO)},computeFgSegHorizontals:function(bO){var bQ;var bR;var bP;this.sortEventSegs(bO);bQ=T(bO);b(bQ);if((bR=bQ[0])){for(bP=0;bP<bR.length;bP++){t(bR[bP])}for(bP=0;bP<bR.length;bP++){this.computeFgSegForwardBack(bR[bP],0,0)}}},computeFgSegForwardBack:function(bP,bR,bS){var bO=bP.forwardSegs;var bQ;if(bP.forwardCoord===undefined){if(!bO.length){bP.forwardCoord=1}else{this.sortForwardSegs(bO);this.computeFgSegForwardBack(bO[0],bR+1,bS);bP.forwardCoord=bO[0].backwardCoord}bP.backwardCoord=bP.forwardCoord-(bP.forwardCoord-bS)/(bR+1);for(bQ=0;bQ<bO.length;bQ++){this.computeFgSegForwardBack(bO[bQ],0,bP.forwardCoord)}}},sortForwardSegs:function(bO){bO.sort(aH(this,"compareForwardSegs"))},compareForwardSegs:function(bP,bO){return bO.forwardPressure-bP.forwardPressure||(bP.backwardCoord||0)-(bO.backwardCoord||0)||this.compareEventSegs(bP,bO)},assignFgSegHorizontals:function(bP){var bQ,bO;for(bQ=0;bQ<bP.length;bQ++){bO=bP[bQ];bO.el.css(this.generateFgSegHorizontalCss(bO));if(bO.bottom-bO.top<30){bO.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(bO){var bR=this.view.opt("slotEventOverlap");var bP=bO.backwardCoord;var bQ=bO.forwardCoord;var bT=this.generateSegVerticalCss(bO);var bU;var bS;if(bR){bQ=Math.min(1,bP+(bQ-bP)*2)}if(this.isRTL){bU=1-bQ;bS=bP}else{bU=bP;bS=1-bQ}bT.zIndex=bO.level+1;bT.left=bU*100+"%";bT.right=bS*100+"%";if(bR&&bO.forwardPressure){bT[this.isRTL?"marginLeft":"marginRight"]=10*2}return bT}});function T(bP){var bS=[];var bR,bO;var bQ;for(bR=0;bR<bP.length;bR++){bO=bP[bR];for(bQ=0;bQ<bS.length;bQ++){if(!bx(bO,bS[bQ]).length){break}}bO.level=bQ;(bS[bQ]||(bS[bQ]=[])).push(bO)}return bS}function b(bS){var bR,bT;var bQ,bO;var bP;for(bR=0;bR<bS.length;bR++){bT=bS[bR];for(bQ=0;bQ<bT.length;bQ++){bO=bT[bQ];bO.forwardSegs=[];for(bP=bR+1;bP<bS.length;bP++){bx(bO,bS[bP],bO.forwardSegs)}}}}function t(bP){var bO=bP.forwardSegs;var bS=0;var bR,bQ;if(bP.forwardPressure===undefined){for(bR=0;bR<bO.length;bR++){bQ=bO[bR];t(bQ);bS=Math.max(bS,1+bQ.forwardPressure)}bP.forwardPressure=bS}}function bx(bO,bR,bQ){bQ=bQ||[];for(var bP=0;bP<bR.length;bP++){if(a6(bO,bR[bP])){bQ.push(bR[bP])}}return bQ}function a6(bP,bO){return bP.bottom>bO.top&&bP.top<bO.bottom}var aU=C.View=bH.extend({type:null,name:null,title:null,calendar:null,viewSpec:null,options:null,el:null,renderQueue:null,batchRenderDepth:0,isDatesRendered:false,isEventsRendered:false,isBaseRendered:false,queuedScroll:null,isRTL:false,isSelected:false,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(bP,bO){bH.prototype.constructor.call(this);this.calendar=bP;this.viewSpec=bO;this.type=bO.type;this.options=bO.options;this.name=this.type;this.nextDayThreshold=a9.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=aG(this.opt("eventOrder"));this.renderQueue=this.buildRenderQueue();this.initAutoBatchRender();this.initialize()},buildRenderQueue:function(){var bP=this;var bO=new aX({event:this.opt("eventRenderWait")});bO.on("start",function(){bP.freezeHeight();bP.addScroll(bP.queryScroll())});bO.on("stop",function(){bP.thawHeight();bP.popScroll()});return bO},initAutoBatchRender:function(){var bO=this;this.on("before:change",function(){bO.startBatchRender()});this.on("change",function(){bO.stopBatchRender()})},startBatchRender:function(){if(!(this.batchRenderDepth++)){this.renderQueue.pause()}},stopBatchRender:function(){if(!(--this.batchRenderDepth)){this.renderQueue.resume()}},initialize:function(){},opt:function(bO){return this.options[bO]},publiclyTrigger:function(bO,bQ){var bP=this.calendar;return bP.publiclyTrigger.apply(bP,[bO,bQ||this].concat(Array.prototype.slice.call(arguments,2),[this]))},updateTitle:function(){this.title=this.computeTitle();this.calendar.setToolbarsTitle(this.title)},computeTitle:function(){var bO;if(/^(year|month)$/.test(this.currentRangeUnit)){bO=this.currentRange}else{bO=this.activeRange}return this.formatRange({start:this.calendar.applyTimezone(bO.start),end:this.calendar.applyTimezone(bO.end)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){if(this.currentRangeUnit=="year"){return"YYYY"}else{if(this.currentRangeUnit=="month"){return this.opt("monthYearFormat")}else{if(this.currentRangeAs("days")>1){return"ll"}else{return"LL"}}}},formatRange:function(bQ,bP,bR){var bO=bQ.end;if(!bO.hasTime()){bO=bO.clone().subtract(1)}return bo(bQ.start,bO,bP,bR,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||aM(this.opt("allDayText"))},buildGotoAnchorHtml:function(bT,bQ,bO){var bP,bS,bU;var bR;if(bz.isPlainObject(bT)){bP=bT.date;bS=bT.type;bU=bT.forceOff}else{bP=bT}bP=C.moment(bP);bR={date:bP.format("YYYY-MM-DD"),type:bS||"day"};if(typeof bQ==="string"){bO=bQ;bQ=null}bQ=bQ?" "+bb(bQ):"";bO=bO||"";if(!bU&&this.opt("navLinks")){return"<a"+bQ+' data-goto="'+aM(JSON.stringify(bR))+'">'+bO+"</a>"}else{return"<span"+bQ+">"+bO+"</span>"}},setElement:function(bO){this.el=bO;this.bindGlobalHandlers();this.bindBaseRenderHandlers();this.renderSkeleton()},removeElement:function(){this.unsetDate();this.unrenderSkeleton();this.unbindGlobalHandlers();this.unbindBaseRenderHandlers();this.el.remove()},renderSkeleton:function(){},unrenderSkeleton:function(){},setDate:function(bP){var bQ=this.get("dateProfile");var bO=this.buildDateProfile(bP,null,true);if(!bQ||!j(bQ.activeRange,bO.activeRange)){this.set("dateProfile",bO)}return bO.date},unsetDate:function(){this.unset("dateProfile")},requestDateRender:function(bO){var bP=this;this.renderQueue.queue(function(){bP.executeDateRender(bO)},"date","init")},requestDateUnrender:function(){var bO=this;this.renderQueue.queue(function(){bO.executeDateUnrender()},"date","destroy")},fetchInitialEvents:function(bO){return this.calendar.requestEvents(bO.activeRange.start,bO.activeRange.end)},bindEventChanges:function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},unbindEventChanges:function(){this.stopListeningTo(this.calendar,"eventsReset")},setEvents:function(bO){this.set("currentEvents",bO);this.set("hasEvents",true)},unsetEvents:function(){this.unset("currentEvents");this.unset("hasEvents")},resetEvents:function(bO){this.startBatchRender();this.unsetEvents();this.setEvents(bO);this.stopBatchRender()},requestEventsRender:function(bO){var bP=this;this.renderQueue.queue(function(){bP.executeEventsRender(bO)},"event","init")},requestEventsUnrender:function(){var bO=this;this.renderQueue.queue(function(){bO.executeEventsUnrender()},"event","destroy")},executeDateRender:function(bP,bO){this.setDateProfileForRendering(bP);this.updateTitle();this.calendar.updateToolbarButtons();if(this.render){this.render()}this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator();if(!bO){this.addScroll(this.computeInitialDateScroll())}this.isDatesRendered=true;this.trigger("datesRendered")},executeDateUnrender:function(){this.unselect();this.stopNowIndicator();this.trigger("before:datesUnrendered");this.unrenderBusinessHours();this.unrenderDates();if(this.destroy){this.destroy()}this.isDatesRendered=false},renderDates:function(){},unrenderDates:function(){},bindBaseRenderHandlers:function(){var bO=this;this.on("datesRendered.baseHandler",function(){bO.onBaseRender()});this.on("before:datesUnrendered.baseHandler",function(){bO.onBeforeBaseUnrender()})},unbindBaseRenderHandlers:function(){this.off(".baseHandler")},onBaseRender:function(){this.applyScreenState();this.publiclyTrigger("viewRender",this,this,this.el)},onBeforeBaseUnrender:function(){this.applyScreenState();this.publiclyTrigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(ap.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){this.stopListeningTo(ap.get())},initThemingProps:function(){var bO=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=bO+"-widget-header";this.widgetContentClass=bO+"-widget-content";this.highlightStateClass=bO+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var bR=this;var bP;var bQ;var bO;if(this.opt("nowIndicator")){bP=this.getNowIndicatorUnit();if(bP){bQ=aH(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();this.renderNowIndicator(this.initialNowDate);this.isNowIndicatorRendered=true;bO=this.initialNowDate.clone().startOf(bP).add(1,bP)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){bR.nowIndicatorTimeoutID=null;bQ();bO=+a9.duration(1,bP);bO=Math.max(100,bO);bR.nowIndicatorIntervalID=setInterval(bQ,bO)},bO)}}},updateNowIndicator:function(){if(this.isNowIndicatorRendered){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs))}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearTimeout(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},getNowIndicatorUnit:function(){},renderNowIndicator:function(bO){},unrenderNowIndicator:function(){},updateSize:function(bP){var bO;if(bP){bO=this.queryScroll()}this.updateHeight(bP);this.updateWidth(bP);this.updateNowIndicator();if(bP){this.applyScroll(bO)}},updateWidth:function(bO){},updateHeight:function(bO){var bP=this.calendar;this.setHeight(bP.getSuggestedViewHeight(),bP.isHeightAuto())},setHeight:function(bP,bO){},addForcedScroll:function(bO){this.addScroll(bz.extend(bO,{isForced:true}))},addScroll:function(bP){var bO=this.queuedScroll||(this.queuedScroll={});if(!bO.isForced){bz.extend(bO,bP)}},popScroll:function(){this.applyQueuedScroll();this.queuedScroll=null},applyQueuedScroll:function(){if(this.queuedScroll){this.applyScroll(this.queuedScroll)}},queryScroll:function(){var bO={};if(this.isDatesRendered){bz.extend(bO,this.queryDateScroll())}return bO},applyScroll:function(bO){if(this.isDatesRendered){this.applyDateScroll(bO)}},computeInitialDateScroll:function(){return{}},queryDateScroll:function(){return{}},applyDateScroll:function(bO){},freezeHeight:function(){this.calendar.freezeContentHeight()},thawHeight:function(){this.calendar.thawContentHeight()},executeEventsRender:function(bO){this.renderEvents(bO);this.isEventsRendered=true;this.onEventsRender()},executeEventsUnrender:function(){this.onBeforeEventsUnrender();if(this.destroyEvents){this.destroyEvents()}this.unrenderEvents();this.isEventsRendered=false},onEventsRender:function(){this.applyScreenState();this.renderedEventSegEach(function(bO){this.publiclyTrigger("eventAfterRender",bO.event,bO.event,bO.el)});this.publiclyTrigger("eventAfterAllRender")},onBeforeEventsUnrender:function(){this.applyScreenState();this.renderedEventSegEach(function(bO){this.publiclyTrigger("eventDestroy",bO.event,bO.event,bO.el)})},applyScreenState:function(){this.thawHeight();this.freezeHeight();this.applyQueuedScroll()},renderEvents:function(bO){},unrenderEvents:function(){},resolveEventEl:function(bP,bO){var bQ=this.publiclyTrigger("eventRender",bP,bP,bO);if(bQ===false){bO=null}else{if(bQ&&bQ!==true){bO=bz(bQ)}}return bO},showEvent:function(bO){this.renderedEventSegEach(function(bP){bP.el.css("visibility","")},bO)},hideEvent:function(bO){this.renderedEventSegEach(function(bP){bP.el.css("visibility","hidden")},bO)},renderedEventSegEach:function(bR,bQ){var bO=this.getEventSegs();var bP;for(bP=0;bP<bO.length;bP++){if(!bQ||bO[bP].event._id===bQ._id){if(bO[bP].el){bR.call(this,bO[bP])}}}},getEventSegs:function(){return[]},isEventDraggable:function(bO){return this.isEventStartEditable(bO)},isEventStartEditable:function(bO){return ab(bO.startEditable,(bO.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(bO))},isEventGenerallyEditable:function(bO){return ab(bO.editable,(bO.source||{}).editable,this.opt("editable"))},reportSegDrop:function(bP,bT,bR,bQ,bS){var bV=this.calendar;var bU=bV.mutateSeg(bP,bT,bR);var bO=function(){bU.undo();bV.reportEventChange()};this.triggerEventDrop(bP.event,bU.dateDelta,bO,bQ,bS);bV.reportEventChange()},triggerEventDrop:function(bR,bS,bO,bP,bQ){this.publiclyTrigger("eventDrop",bP[0],bR,bS,bO,bQ,{})},reportExternalDrop:function(bV,bS,bP,bR,bU){var bT=bV.eventProps;var bO;var bQ;if(bT){bO=bz.extend({},bT,bS);bQ=this.calendar.renderEvent(bO,bV.stick)[0]}this.triggerExternalDrop(bQ,bS,bP,bR,bU)},triggerExternalDrop:function(bR,bQ,bO,bP,bS){this.publiclyTrigger("drop",bO[0],bQ.start,bP,bS);if(bR){this.publiclyTrigger("eventReceive",null,bR)}},renderDrag:function(bP,bO){},unrenderDrag:function(){},isEventResizableFromStart:function(bO){return this.opt("eventResizableFromStart")&&this.isEventResizable(bO)},isEventResizableFromEnd:function(bO){return this.isEventResizable(bO)},isEventResizable:function(bO){var bP=bO.source||{};return ab(bO.durationEditable,bP.durationEditable,this.opt("eventDurationEditable"),bO.editable,bP.editable,this.opt("editable"))},reportSegResize:function(bP,bV,bR,bQ,bS){var bU=this.calendar;var bT=bU.mutateSeg(bP,bV,bR);var bO=function(){bT.undo();bU.reportEventChange()};this.triggerEventResize(bP.event,bT.durationDelta,bO,bQ,bS);bU.reportEventChange()},triggerEventResize:function(bS,bP,bO,bQ,bR){this.publiclyTrigger("eventResize",bQ[0],bS,bP,bO,bR,{})},select:function(bO,bP){this.unselect(bP);this.renderSelection(bO);this.reportSelection(bO,bP)},renderSelection:function(bO){},reportSelection:function(bO,bP){this.isSelected=true;this.triggerSelect(bO,bP)},triggerSelect:function(bO,bP){this.publiclyTrigger("select",null,this.calendar.applyTimezone(bO.start),this.calendar.applyTimezone(bO.end),bP)},unselect:function(bO){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.publiclyTrigger("unselect",null,bO)}},unrenderSelection:function(){},selectEvent:function(bO){if(!this.selectedEvent||this.selectedEvent!==bO){this.unselectEvent();this.renderedEventSegEach(function(bP){bP.el.addClass("fc-selected")},bO);this.selectedEvent=bO}},unselectEvent:function(){if(this.selectedEvent){this.renderedEventSegEach(function(bO){bO.el.removeClass("fc-selected")},this.selectedEvent);this.selectedEvent=null}},isEventSelected:function(bO){return this.selectedEvent&&this.selectedEvent._id===bO._id},handleDocumentMousedown:function(bO){if(bJ(bO)){this.processUnselect(bO)}},processUnselect:function(bO){this.processRangeUnselect(bO);this.processEventUnselect(bO)},processRangeUnselect:function(bO){var bP;if(this.isSelected&&this.opt("unselectAuto")){bP=this.opt("unselectCancel");if(!bP||!bz(bO.target).closest(bP).length){this.unselect(bO)}}},processEventUnselect:function(bO){if(this.selectedEvent){if(!bz(bO.target).closest(".fc-selected").length){this.unselectEvent()}}},triggerDayClick:function(bO,bQ,bP){this.publiclyTrigger("dayClick",bQ,this.calendar.applyTimezone(bO.start),bP)},computeDayRange:function(bP){var bS=bP.start.clone().stripTime();var bO=bP.end;var bR=null;var bQ;if(bO){bR=bO.clone().stripTime();bQ=+bO.time();if(bQ&&bQ>=this.nextDayThreshold){bR.add(1,"days")}}if(!bO||bR<=bS){bR=bS.clone().add(1,"days")}return{start:bS,end:bR}},isMultiDayEvent:function(bP){var bO=this.computeDayRange(bP);return bO.end.diff(bO.start,"days")>1}});aU.watch("displayingDates",["dateProfile"],function(bO){this.requestDateRender(bO.dateProfile)},function(){this.requestDateUnrender()});aU.watch("initialEvents",["dateProfile"],function(bO){return this.fetchInitialEvents(bO.dateProfile)});aU.watch("bindingEvents",["initialEvents"],function(bO){this.setEvents(bO.initialEvents);this.bindEventChanges()},function(){this.unbindEventChanges();this.unsetEvents()});aU.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()});aU.mixin({currentRange:null,currentRangeUnit:null,renderRange:null,activeRange:null,validRange:null,dateIncrement:null,minTime:null,maxTime:null,usesMinMaxTime:false,start:null,end:null,intervalStart:null,intervalEnd:null,setDateProfileForRendering:function(bO){this.currentRange=bO.currentRange;this.currentRangeUnit=bO.currentRangeUnit;this.renderRange=bO.renderRange;this.activeRange=bO.activeRange;this.validRange=bO.validRange;this.dateIncrement=bO.dateIncrement;this.minTime=bO.minTime;this.maxTime=bO.maxTime;this.start=bO.activeRange.start;this.end=bO.activeRange.end;this.intervalStart=bO.currentRange.start;this.intervalEnd=bO.currentRange.end},buildPrevDateProfile:function(bO){var bP=bO.clone().startOf(this.currentRangeUnit).subtract(this.dateIncrement);return this.buildDateProfile(bP,-1)},buildNextDateProfile:function(bO){var bP=bO.clone().startOf(this.currentRangeUnit).add(this.dateIncrement);return this.buildDateProfile(bP,1)},buildDateProfile:function(bR,bU,bQ){var bV=this.buildValidRange();var bT=null;var bP=null;var bO;var bS;var bW;var bX;if(bQ){bR=a8(bR,bV)}bO=this.buildCurrentRangeInfo(bR,bU);bS=this.buildRenderRange(bO.range,bO.unit);bW=W(bS);if(!this.opt("showNonCurrentDates")){bW=k(bW,bO.range)}bT=a9.duration(this.opt("minTime"));bP=a9.duration(this.opt("maxTime"));this.adjustActiveRange(bW,bT,bP);bW=k(bW,bV);bR=a8(bR,bW);bX=bt(bO.range,bV);return{validRange:bV,currentRange:bO.range,currentRangeUnit:bO.unit,activeRange:bW,renderRange:bS,minTime:bT,maxTime:bP,isValid:bX,date:bR,dateIncrement:this.buildDateIncrement(bO.duration)}},buildValidRange:function(){return this.getRangeOption("validRange",this.calendar.getNow())||{}},buildCurrentRangeInfo:function(bP,bT){var bS=null;var bQ=null;var bO=null;var bR;if(this.viewSpec.duration){bS=this.viewSpec.duration;bQ=this.viewSpec.durationUnit;bO=this.buildRangeFromDuration(bP,bT,bS,bQ)}else{if((bR=this.opt("dayCount"))){bQ="day";bO=this.buildRangeFromDayCount(bP,bT,bR)}else{if((bO=this.buildCustomVisibleRange(bP))){bQ=aE(bO.start,bO.end)}else{bS=this.getFallbackDuration();bQ=aE(bS);bO=this.buildRangeFromDuration(bP,bT,bS,bQ)}}}this.normalizeCurrentRange(bO,bQ);return{duration:bS,unit:bQ,range:bO}},getFallbackDuration:function(){return a9.duration({days:1})},normalizeCurrentRange:function(bO,bP){if(/^(year|month|week|day)$/.test(bP)){bO.start.stripTime();bO.end.stripTime()}else{if(!bO.start.hasTime()){bO.start.time(0)}if(!bO.end.hasTime()){bO.end.time(0)}}},adjustActiveRange:function(bP,bO,bQ){var bR=false;if(this.usesMinMaxTime){if(bO<0){bP.start.time(0).add(bO);bR=true}if(bQ>24*60*60*1000){bP.end.time(bQ-(24*60*60*1000));bR=true}if(bR){if(!bP.start.hasTime()){bP.start.time(0)}if(!bP.end.hasTime()){bP.end.time(0)}}}},buildRangeFromDuration:function(bQ,bV,bR,bW){var bU=this.opt("dateAlignment");var bP=bQ.clone();var bS;var bO;var bT;if(bR.as("days")<=1){if(this.isHiddenDay(bP)){bP=this.skipHiddenDays(bP,bV);bP.startOf("day")}}if(!bU){bO=this.opt("dateIncrement");if(bO){bT=a9.duration(bO);if(bT<bR){bU=f(bT,bO)}else{bU=bW}}else{bU=bW}}bP.startOf(bU);bS=bP.clone().add(bR);return{start:bP,end:bS}},buildRangeFromDayCount:function(bR,bT,bS){var bQ=this.opt("dateAlignment");var bO=0;var bU=bR.clone();var bP;if(bQ){bU.startOf(bQ)}bU.startOf("day");bU=this.skipHiddenDays(bU,bT);bP=bU.clone();do{bP.add(1,"day");if(!this.isHiddenDay(bP)){bO++}}while(bO<bS);return{start:bU,end:bP}},buildCustomVisibleRange:function(bP){var bO=this.getRangeOption("visibleRange",this.calendar.moment(bP));if(bO&&(!bO.start||!bO.end)){return null}return bO},buildRenderRange:function(bO,bP){return this.trimHiddenDays(bO)},buildDateIncrement:function(bQ){var bP=this.opt("dateIncrement");var bO;if(bP){return a9.duration(bP)}else{if((bO=this.opt("dateAlignment"))){return a9.duration(1,bO)}else{if(bQ){return bQ}else{return a9.duration({days:1})}}}},trimHiddenDays:function(bO){return{start:this.skipHiddenDays(bO.start),end:this.skipHiddenDays(bO.end,-1,true)}},currentRangeAs:function(bP){var bO=this.currentRange;return bO.end.diff(bO.start,bP,true)},getRangeOption:function(bO){var bP=this.opt(bO);if(typeof bP==="function"){bP=bP.apply(null,Array.prototype.slice.call(arguments,1))}if(bP){return this.calendar.parseRange(bP)}},initHiddenDays:function(){var bP=this.opt("hiddenDays")||[];var bR=[];var bO=0;var bQ;if(this.opt("weekends")===false){bP.push(0,6)}for(bQ=0;bQ<7;bQ++){if(!(bR[bQ]=bz.inArray(bQ,bP)!==-1)){bO++}}if(!bO){throw"invalid hiddenDays"}this.isHiddenDayHash=bR},isHiddenDay:function(bO){if(a9.isMoment(bO)){bO=bO.day()}return this.isHiddenDayHash[bO]},skipHiddenDays:function(bQ,bR,bO){var bP=bQ.clone();bR=bR||1;while(this.isHiddenDayHash[(bP.day()+(bO?bR:0)+7)%7]){bP.add(bR,"days")}return bP}});var bc=C.Scroller=ay.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(bO){bO=bO||{};this.overflowX=bO.overflowX||bO.overflow||"auto";this.overflowY=bO.overflowY||bO.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=bz('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(bQ){var bP=this.overflowX;var bO=this.overflowY;bQ=bQ||this.getScrollbarWidths();if(bP==="auto"){bP=(bQ.top||bQ.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(bO==="auto"){bO=(bQ.left||bQ.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":bP,"overflow-y":bO})},setHeight:function(bO){this.scrollEl.height(bO)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(bO){this.scrollEl.scrollTop(bO)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});function bB(bO){this.items=bO||[]}bB.prototype.proxyCall=function(bO){var bP=Array.prototype.slice.call(arguments,1);var bQ=[];this.items.forEach(function(bR){bQ.push(bR[bO].apply(bR,bP))});return bQ};function a5(bV,bO){var b3=this;b3.setToolbarOptions=bT;b3.render=bQ;b3.removeElement=bY;b3.updateTitle=bW;b3.activateButton=bP;b3.deactivateButton=b1;b3.disableButton=bU;b3.enableButton=bX;b3.getViewsWithButtons=bS;b3.el=null;var bR;var bZ=[];var b0;function bT(b4){bO=b4}function bQ(){var b4=bO.layout;b0=bV.opt("theme")?"ui":"fc";if(b4){if(!bR){bR=this.el=bz("<div class='fc-toolbar "+bO.extraClasses+"'/>")}else{bR.empty()}bR.append(b2("left")).append(b2("right")).append(b2("center")).append('<div class="fc-clear"/>')}else{bY()}}function bY(){if(bR){bR.remove();bR=b3.el=null}}function b2(b4){var b5=bz('<div class="fc-'+b4+'"/>');var b8=bO.layout[b4];var b7=bV.opt("customButtons")||{};var b6=bV.opt("buttonText")||{};if(b8){bz.each(b8.split(" "),function(b9){var ca=bz();var cb=true;var cc;bz.each(this.split(","),function(ch,co){var cn;var ck;var cj;var cm;var cl;var ce;var cg;var cd;var cf;var ci;if(co=="title"){ca=ca.add(bz("<h2>&nbsp;</h2>"));cb=false}else{if((cn=b7[co])){cj=function(cp){if(cn.click){cn.click.call(ci[0],cp)}};cm="";cl=cn.text}else{if((ck=bV.getViewSpec(co))){cj=function(){bV.changeView(co)};bZ.push(co);cm=ck.buttonTextOverride;cl=ck.buttonTextDefault}else{if(bV[co]){cj=function(){bV[co]()};cm=(bV.overrides.buttonText||{})[co];cl=b6[co]}}}if(cj){ce=cn?cn.themeIcon:bV.opt("themeButtonIcons")[co];cg=cn?cn.icon:bV.opt("buttonIcons")[co];if(cm){cd=aM(cm)}else{if(ce&&bV.opt("theme")){cd="<span class='ui-icon ui-icon-"+ce+"'></span>"}else{if(cg&&!bV.opt("theme")){cd="<span class='fc-icon fc-icon-"+cg+"'></span>"}else{cd=aM(cl)}}}cf=["fc-"+co+"-button",b0+"-button",b0+"-state-default"];ci=bz('<button type="button" class="'+cf.join(" ")+'">'+cd+"</button>").click(function(cp){if(!ci.hasClass(b0+"-state-disabled")){cj(cp);if(ci.hasClass(b0+"-state-active")||ci.hasClass(b0+"-state-disabled")){ci.removeClass(b0+"-state-hover")}}}).mousedown(function(){ci.not("."+b0+"-state-active").not("."+b0+"-state-disabled").addClass(b0+"-state-down")}).mouseup(function(){ci.removeClass(b0+"-state-down")}).hover(function(){ci.not("."+b0+"-state-active").not("."+b0+"-state-disabled").addClass(b0+"-state-hover")},function(){ci.removeClass(b0+"-state-hover").removeClass(b0+"-state-down")});ca=ca.add(ci)}}});if(cb){ca.first().addClass(b0+"-corner-left").end().last().addClass(b0+"-corner-right").end()}if(ca.length>1){cc=bz("<div/>");if(cb){cc.addClass("fc-button-group")}cc.append(ca);b5.append(cc)}else{b5.append(ca)}})}return b5}function bW(b4){if(bR){bR.find("h2").text(b4)}}function bP(b4){if(bR){bR.find(".fc-"+b4+"-button").addClass(b0+"-state-active")}}function b1(b4){if(bR){bR.find(".fc-"+b4+"-button").removeClass(b0+"-state-active")}}function bU(b4){if(bR){bR.find(".fc-"+b4+"-button").prop("disabled",true).addClass(b0+"-state-disabled")}}function bX(b4){if(bR){bR.find(".fc-"+b4+"-button").prop("disabled",false).removeClass(b0+"-state-disabled")}}function bS(){return bZ}}var A=C.Calendar=ay.extend(B,{view:null,viewsByType:null,currentDate:null,loadingLevel:0,constructor:function(bO,bP){ap.needed();this.el=bO;this.viewsByType={};this.viewSpecCache={};this.initOptionsInternals(bP);this.initMomentInternals();this.initCurrentDate();aQ.call(this);this.initialize()},initialize:function(){},getCalendar:function(){return this},getView:function(){return this.view},publiclyTrigger:function(bP,bR){var bO=Array.prototype.slice.call(arguments,2);var bQ=this.opt(bP);bR=bR||this.el[0];this.triggerWith(bP,bR,bO);if(bQ){return bQ.apply(bR,bO)}},instantiateView:function(bO){var bP=this.getViewSpec(bO);return new bP["class"](this,bP)},isValidViewType:function(bO){return Boolean(this.getViewSpec(bO))},changeView:function(bP,bO){if(bO){if(bO.start&&bO.end){this.recordOptionOverrides({visibleRange:bO})}else{this.currentDate=this.moment(bO).stripZone()}}this.renderView(bP)},zoomTo:function(bP,bO){var bQ;bO=bO||"day";bQ=this.getViewSpec(bO)||this.getUnitViewSpec(bO);this.currentDate=bP.clone();this.renderView(bQ?bQ.type:null)},initCurrentDate:function(){var bO=this.opt("defaultDate");if(bO!=null){this.currentDate=this.moment(bO).stripZone()}else{this.currentDate=this.getNow()}},prev:function(){var bO=this.view.buildPrevDateProfile(this.currentDate);if(bO.isValid){this.currentDate=bO.date;this.renderView()}},next:function(){var bO=this.view.buildNextDateProfile(this.currentDate);if(bO.isValid){this.currentDate=bO.date;this.renderView()}},prevYear:function(){this.currentDate.add(-1,"years");this.renderView()},nextYear:function(){this.currentDate.add(1,"years");this.renderView()},today:function(){this.currentDate=this.getNow();this.renderView()},gotoDate:function(bO){this.currentDate=this.moment(bO).stripZone();this.renderView()},incrementDate:function(bO){this.currentDate.add(a9.duration(bO));this.renderView()},getDate:function(){return this.applyTimezone(this.currentDate)},pushLoading:function(){if(!(this.loadingLevel++)){this.publiclyTrigger("loading",null,true,this.view)}},popLoading:function(){if(!(--this.loadingLevel)){this.publiclyTrigger("loading",null,false,this.view)}},select:function(bO,bP){this.view.select(this.buildSelectSpan.apply(this,arguments))},unselect:function(){if(this.view){this.view.unselect()}},buildSelectSpan:function(bP,bQ){var bR=this.moment(bP).stripZone();var bO;if(bQ){bO=this.moment(bQ).stripZone()}else{if(bR.hasTime()){bO=bR.clone().add(this.defaultTimedEventDuration)}else{bO=bR.clone().add(this.defaultAllDayEventDuration)}}return{start:bR,end:bO}},parseRange:function(bQ){var bP=null;var bO=null;if(bQ.start){bP=this.moment(bQ.start).stripZone()}if(bQ.end){bO=this.moment(bQ.end).stripZone()}if(!bP&&!bO){return null}if(bP&&bO&&bO.isBefore(bP)){return null}return{start:bP,end:bO}},rerenderEvents:function(){if(this.elementVisible()){this.reportEventChange()}}});A.mixin({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,optionsModel:null,initOptionsInternals:function(bO){this.overrides=bz.extend({},bO);this.dynamicOverrides={};this.optionsModel=new bH();this.populateOptionsHash()},option:function(bO,bQ){var bP;if(typeof bO==="string"){if(bQ===undefined){return this.optionsModel.get(bO)}else{bP={};bP[bO]=bQ;this.setOptions(bP)}}else{if(typeof bO==="object"){this.setOptions(bO)}}},opt:function(bO){return this.optionsModel.get(bO)},setOptions:function(bQ){var bO=0;var bP;this.recordOptionOverrides(bQ);for(bP in bQ){bO++}if(bO===1){if(bP==="height"||bP==="contentHeight"||bP==="aspectRatio"){this.updateSize(true);return}else{if(bP==="defaultDate"){return}else{if(bP==="businessHours"){if(this.view){this.view.unrenderBusinessHours();this.view.renderBusinessHours()}return}else{if(bP==="timezone"){this.rezoneArrayEventSources();this.refetchEvents();return}}}}}this.renderHeader();this.renderFooter();this.viewsByType={};this.reinitView()},populateOptionsHash:function(){var bO,bP;var bR,bS;var bQ;bO=ab(this.dynamicOverrides.locale,this.overrides.locale);bP=ag[bO];if(!bP){bO=A.defaults.locale;bP=ag[bO]||{}}bR=ab(this.dynamicOverrides.isRTL,this.overrides.isRTL,bP.isRTL,A.defaults.isRTL);bS=bR?A.rtlDefaults:{};this.dirDefaults=bS;this.localeDefaults=bP;bQ=aV([A.defaults,bS,bP,this.overrides,this.dynamicOverrides]);aT(bQ);this.optionsModel.reset(bQ)},recordOptionOverrides:function(bP){var bO;for(bO in bP){this.dynamicOverrides[bO]=bP[bO]}this.viewSpecCache={};this.populateOptionsHash()}});A.mixin({defaultAllDayEventDuration:null,defaultTimedEventDuration:null,localeData:null,initMomentInternals:function(){var bO=this;this.defaultAllDayEventDuration=a9.duration(this.opt("defaultAllDayEventDuration"));this.defaultTimedEventDuration=a9.duration(this.opt("defaultTimedEventDuration"));this.optionsModel.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(bS){var bT=bS.weekNumberCalculation;var bQ=bS.firstDay;var bP;if(bT==="iso"){bT="ISO"}var bR=Z(S(bS.locale));if(bS.monthNames){bR._months=bS.monthNames}if(bS.monthNamesShort){bR._monthsShort=bS.monthNamesShort}if(bS.dayNames){bR._weekdays=bS.dayNames}if(bS.dayNamesShort){bR._weekdaysShort=bS.dayNamesShort}if(bQ==null&&bT==="ISO"){bQ=1}if(bQ!=null){bP=Z(bR._week);bP.dow=bQ;bR._week=bP}if(bT==="ISO"||bT==="local"||typeof bT==="function"){bR._fullCalendar_weekCalc=bT}bO.localeData=bR;if(bO.currentDate){bO.localizeMoment(bO.currentDate)}})},moment:function(){var bO;if(this.opt("timezone")==="local"){bO=C.moment.apply(null,arguments);if(bO.hasTime()){bO.local()}}else{if(this.opt("timezone")==="UTC"){bO=C.moment.utc.apply(null,arguments)}else{bO=C.moment.parseZone.apply(null,arguments)}}this.localizeMoment(bO);return bO},localizeMoment:function(bO){bO._locale=this.localeData},getIsAmbigTimezone:function(){return this.opt("timezone")!=="local"&&this.opt("timezone")!=="UTC"},applyTimezone:function(bO){if(!bO.hasTime()){return bO.clone()}var bP=this.moment(bO.toArray());var bR=bO.time()-bP.time();var bQ;if(bR){bQ=bP.clone().add(bR);if(bO.time()-bQ.time()===0){bP=bQ}}return bP},getNow:function(){var bO=this.opt("now");if(typeof bO==="function"){bO=bO()}return this.moment(bO).stripZone()},humanizeDuration:function(bO){return bO.locale(this.opt("locale")).humanize()},getEventEnd:function(bO){if(bO.end){return bO.end.clone()}else{return this.getDefaultEventEnd(bO.allDay,bO.start)}},getDefaultEventEnd:function(bP,bQ){var bO=bQ.clone();if(bP){bO.stripTime().add(this.defaultAllDayEventDuration)}else{bO.add(this.defaultTimedEventDuration)}if(this.getIsAmbigTimezone()){bO.stripZone()}return bO}});A.mixin({viewSpecCache:null,getViewSpec:function(bO){var bP=this.viewSpecCache;return bP[bO]||(bP[bO]=this.buildViewSpec(bO))},getUnitViewSpec:function(bR){var bQ;var bP;var bO;if(bz.inArray(bR,n)!=-1){bQ=this.header.getViewsWithButtons();bz.each(C.views,function(bS){bQ.push(bS)});for(bP=0;bP<bQ.length;bP++){bO=this.getViewSpec(bQ[bP]);if(bO){if(bO.singleUnit==bR){return bO}}}}},buildViewSpec:function(bQ){var bT=this.overrides.views||{};var bS=[];var bY=[];var bO=[];var bR=bQ;var bX;var bW;var bV;var bP;var bU;while(bR){bX=ae[bR];bW=bT[bR];bR=null;if(typeof bX==="function"){bX={"class":bX}}if(bX){bS.unshift(bX);bY.unshift(bX.defaults||{});bV=bV||bX.duration;bR=bR||bX.type}if(bW){bO.unshift(bW);bV=bV||bW.duration;bR=bR||bW.type}}bX=bK(bS);bX.type=bQ;if(!bX["class"]){return false}bV=bV||this.dynamicOverrides.duration||this.overrides.duration;if(bV){bP=a9.duration(bV);if(bP.valueOf()){bU=f(bP,bV);bX.duration=bP;bX.durationUnit=bU;if(bP.as(bU)===1){bX.singleUnit=bU;bO.unshift(bT[bU]||{})}}}bX.defaults=aV(bY);bX.overrides=aV(bO);this.buildViewSpecOptions(bX);this.buildViewSpecButtonText(bX,bQ);return bX},buildViewSpecOptions:function(bO){bO.options=aV([A.defaults,bO.defaults,this.dirDefaults,this.localeDefaults,this.overrides,bO.overrides,this.dynamicOverrides]);aT(bO.options)},buildViewSpecButtonText:function(bP,bQ){function bO(bR){var bS=bR.buttonText||{};return bS[bQ]||(bP.buttonTextKey?bS[bP.buttonTextKey]:null)||(bP.singleUnit?bS[bP.singleUnit]:null)}bP.buttonTextOverride=bO(this.dynamicOverrides)||bO(this.overrides)||bP.overrides.buttonText;bP.buttonTextDefault=bO(this.localeDefaults)||bO(this.dirDefaults)||bP.defaults.buttonText||bO(A.defaults)||(bP.duration?this.humanizeDuration(bP.duration):null)||bQ}});A.mixin({el:null,contentEl:null,suggestedViewHeight:null,windowResizeProxy:null,ignoreWindowResize:0,render:function(){if(!this.contentEl){this.initialRender()}else{if(this.elementVisible()){this.calcSize();this.renderView()}}},initialRender:function(){var bP=this;var bO=this.el;bO.addClass("fc");bO.on("click.fc","a[data-goto]",function(bU){var bV=bz(this);var bT=bV.data("goto");var bR=bP.moment(bT.date);var bQ=bT.type;var bS=bP.view.opt("navLink"+s(bQ)+"Click");if(typeof bS==="function"){bS(bR,bU)}else{if(typeof bS==="string"){bQ=bS}bP.zoomTo(bR,bQ)}});this.optionsModel.watch("applyingThemeClasses",["?theme"],function(bQ){bO.toggleClass("ui-widget",bQ.theme);bO.toggleClass("fc-unthemed",!bQ.theme)});this.optionsModel.watch("applyingDirClasses",["?isRTL","?locale"],function(bQ){bO.toggleClass("fc-ltr",!bQ.isRTL);bO.toggleClass("fc-rtl",bQ.isRTL)});this.contentEl=bz("<div class='fc-view-container'/>").prependTo(bO);this.initToolbars();this.renderHeader();this.renderFooter();this.renderView(this.opt("defaultView"));if(this.opt("handleWindowResize")){bz(window).resize(this.windowResizeProxy=bf(this.windowResize.bind(this),this.opt("windowResizeDelay")))}},destroy:function(){if(this.view){this.view.removeElement()}this.toolbarsManager.proxyCall("removeElement");this.contentEl.remove();this.el.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");this.el.off(".fc");if(this.windowResizeProxy){bz(window).unbind("resize",this.windowResizeProxy);this.windowResizeProxy=null}ap.unneeded()},elementVisible:function(){return this.el.is(":visible")},renderView:function(bO,bQ){this.ignoreWindowResize++;var bP=this.view&&bO&&this.view.type!==bO;if(bP){this.freezeContentHeight();this.clearView()}if(!this.view&&bO){this.view=this.viewsByType[bO]||(this.viewsByType[bO]=this.instantiateView(bO));this.view.setElement(bz("<div class='fc-view fc-"+bO+"-view' />").appendTo(this.contentEl));this.toolbarsManager.proxyCall("activateButton",bO)}if(this.view){if(bQ){this.view.addForcedScroll(bQ)}if(this.elementVisible()){this.currentDate=this.view.setDate(this.currentDate)}}if(bP){this.thawContentHeight()}this.ignoreWindowResize--},clearView:function(){this.toolbarsManager.proxyCall("deactivateButton",this.view.type);this.view.removeElement();this.view=null},reinitView:function(){this.ignoreWindowResize++;this.freezeContentHeight();var bO=this.view.type;var bP=this.view.queryScroll();this.clearView();this.calcSize();this.renderView(bO,bP);this.thawContentHeight();this.ignoreWindowResize--},getSuggestedViewHeight:function(){if(this.suggestedViewHeight===null){this.calcSize()}return this.suggestedViewHeight},isHeightAuto:function(){return this.opt("contentHeight")==="auto"||this.opt("height")==="auto"},updateSize:function(bO){if(this.elementVisible()){if(bO){this._calcSize()}this.ignoreWindowResize++;this.view.updateSize(true);this.ignoreWindowResize--;return true}},calcSize:function(){if(this.elementVisible()){this._calcSize()}},_calcSize:function(){var bP=this.opt("contentHeight");var bO=this.opt("height");if(typeof bP==="number"){this.suggestedViewHeight=bP}else{if(typeof bP==="function"){this.suggestedViewHeight=bP()}else{if(typeof bO==="number"){this.suggestedViewHeight=bO-this.queryToolbarsHeight()}else{if(typeof bO==="function"){this.suggestedViewHeight=bO()-this.queryToolbarsHeight()}else{if(bO==="parent"){this.suggestedViewHeight=this.el.parent().height()-this.queryToolbarsHeight()}else{this.suggestedViewHeight=Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),0.5))}}}}}},windowResize:function(bO){if(!this.ignoreWindowResize&&bO.target===window&&this.view.renderRange){if(this.updateSize(true)){this.view.publiclyTrigger("windowResize",this.el[0])}}},freezeContentHeight:function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},thawContentHeight:function(){this.contentEl.css({width:"",height:"",overflow:""})}});A.mixin({header:null,footer:null,toolbarsManager:null,initToolbars:function(){this.header=new a5(this,this.computeHeaderOptions());this.footer=new a5(this,this.computeFooterOptions());this.toolbarsManager=new bB([this.header,this.footer])},computeHeaderOptions:function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},computeFooterOptions:function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},renderHeader:function(){var bO=this.header;bO.setToolbarOptions(this.computeHeaderOptions());bO.render();if(bO.el){this.el.prepend(bO.el)}},renderFooter:function(){var bO=this.footer;bO.setToolbarOptions(this.computeFooterOptions());bO.render();if(bO.el){this.el.append(bO.el)}},setToolbarsTitle:function(bO){this.toolbarsManager.proxyCall("updateTitle",bO)},updateToolbarButtons:function(){var bR=this.getNow();var bO=this.view;var bS=bO.buildDateProfile(bR);var bQ=bO.buildPrevDateProfile(this.currentDate);var bP=bO.buildNextDateProfile(this.currentDate);this.toolbarsManager.proxyCall((bS.isValid&&!x(bR,bO.currentRange))?"enableButton":"disableButton","today");this.toolbarsManager.proxyCall(bQ.isValid?"enableButton":"disableButton","prev");this.toolbarsManager.proxyCall(bP.isValid?"enableButton":"disableButton","next")},queryToolbarsHeight:function(){return this.toolbarsManager.items.reduce(function(bO,bP){var bQ=bP.el?bP.el.outerHeight(true):0;return bO+bQ},0)}});A.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:true,lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:100,longPressDelay:1000};A.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};A.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ag=C.locales={};C.datepickerLocale=function(bQ,bP,bR){var bO=ag[bQ]||(ag[bQ]={});bO.isRTL=bR.isRTL;bO.weekNumberTitle=bR.weekHeader;bz.each(aN,function(bS,bT){bO[bS]=bT(bR)});if(bz.datepicker){bz.datepicker.regional[bP]=bz.datepicker.regional[bQ]=bR;bz.datepicker.regional.en=bz.datepicker.regional[""];bz.datepicker.setDefaults(bR)}};C.locale=function(bP,bR){var bO;var bQ;bO=ag[bP]||(ag[bP]={});if(bR){bO=ag[bP]=aV([bO,bR])}bQ=S(bP);bz.each(bd,function(bS,bT){if(bO[bS]==null){bO[bS]=bT(bQ,bO)}});A.defaults.locale=bP};var aN={buttonText:function(bO){return{prev:aK(bO.prevText),next:aK(bO.nextText),today:aK(bO.currentText)}},monthYearFormat:function(bO){return bO.showMonthAfterYear?"YYYY["+bO.yearSuffix+"] MMMM":"MMMM YYYY["+bO.yearSuffix+"]"}};var bd={dayOfMonthFormat:function(bP,bO){var bQ=bP.longDateFormat("l");bQ=bQ.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(bO.isRTL){bQ+=" ddd"}else{bQ="ddd "+bQ}return bQ},mediumTimeFormat:function(bO){return bO.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(bO){return bO.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(bO){return bO.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(bO){return bO.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(bO){return bO.longDateFormat("LT").replace(/\s*a$/i,"")}};var bj={smallDayDateFormat:function(bO){return bO.isRTL?"D dd":"dd D"},weekFormat:function(bO){return bO.isRTL?"w[ "+bO.weekNumberTitle+"]":"["+bO.weekNumberTitle+" ]w"},smallWeekFormat:function(bO){return bO.isRTL?"w["+bO.weekNumberTitle+"]":"["+bO.weekNumberTitle+"]w"}};function aT(bO){bz.each(bj,function(bP,bQ){if(bO[bP]==null){bO[bP]=bQ(bO)}})}function S(bO){return a9.localeData(bO)||a9.localeData("en")}C.locale("en",A.englishDefaults);C.sourceNormalizers=[];C.sourceFetchers=[];var L={dataType:"json",cache:false};var a4=1;function aQ(){var cp=this;cp.requestEvents=b7;cp.reportEventChange=cv;cp.isFetchNeeded=bP;cp.fetchEvents=cy;cp.fetchEventSources=co;cp.refetchEvents=b2;cp.refetchEventSources=cr;cp.getEventSources=b4;cp.getEventSourceById=ct;cp.addEventSource=b0;cp.removeEventSource=bU;cp.removeEventSources=ca;cp.updateEvent=cj;cp.updateEvents=cb;cp.renderEvent=b9;cp.renderEvents=bT;cp.removeEvents=cw;cp.clientEvents=b1;cp.mutateEvent=bQ;cp.normalizeEventDates=cg;cp.normalizeEventTimes=bZ;var bW={events:[]};var ck=[bW];var b3,b8;var cc=0;var b6=[];var cx;bz.each((cp.opt("events")?[cp.opt("events")]:[]).concat(cp.opt("eventSources")||[]),function(cA,cC){var cB=cd(cC);if(cB){ck.push(cB)}});function b7(cB,cA){if(!cp.opt("lazyFetching")||bP(cB,cA)){return cy(cB,cA)}else{return bv.resolve(cx)}}function cv(){cx=cn(b6);cp.trigger("eventsReset",cx)}function cn(cC){var cA=[];var cB,cD;for(cB=0;cB<cC.length;cB++){cD=cC[cB];if(cD.start.clone().stripZone()<b8&&cp.getEventEnd(cD).stripZone()>b3){cA.push(cD)}}return cA}cp.getEventCache=function(){return b6};function bP(cB,cA){return !b3||cB<b3||cA>b8}function cy(cB,cA){b3=cB;b8=cA;return b2()}function b2(){return co(ck,"reset")}function cr(cA){return co(cu(cA))}function co(cD,cC){var cA,cB;if(cC==="reset"){b6=[]}else{if(cC!=="add"){b6=bS(b6,cD)}}for(cA=0;cA<cD.length;cA++){cB=cD[cA];if(cB._status!=="pending"){cc++}cB._fetchId=(cB._fetchId||0)+1;cB._status="pending"}for(cA=0;cA<cD.length;cA++){cB=cD[cA];cs(cB,cB._fetchId)}if(cc){return bv.construct(function(cE){cp.one("eventsReceived",cE)})}else{return bv.resolve(cx)}}function cs(cA,cB){bY(cA,function(cG){var cF=bz.isArray(cA.events);var cE,cD;var cC;if(cB===cA._fetchId&&cA._status!=="rejected"){cA._status="resolved";if(cG){for(cE=0;cE<cG.length;cE++){cD=cG[cE];if(cF){cC=cD}else{cC=bV(cD,cA)}if(cC){b6.push.apply(b6,cz(cC))}}}bO()}})}function cq(cB){var cA=cB._status==="pending";cB._status="rejected";if(cA){bO()}}function bO(){cc--;if(!cc){cv(b6);cp.trigger("eventsReceived",cx)}}function bY(cA,cL){var cF;var cJ=C.sourceFetchers;var cH;for(cF=0;cF<cJ.length;cF++){cH=cJ[cF].call(cp,cA,b3.clone(),b8.clone(),cp.opt("timezone"),cL);if(cH===true){return}else{if(typeof cH=="object"){bY(cH,cL);return}}}var cN=cA.events;if(cN){if(bz.isFunction(cN)){cp.pushLoading();cN.call(cp,b3.clone(),b8.clone(),cp.opt("timezone"),function(cP){cL(cP);cp.popLoading()})}else{if(bz.isArray(cN)){cL(cN)}else{cL()}}}else{var cB=cA.url;if(cB){var cM=cA.success;var cI=cA.error;var cC=cA.complete;var cO;if(bz.isFunction(cA.data)){cO=cA.data()}else{cO=cA.data}var cE=bz.extend({},cO||{});var cG=ab(cA.startParam,cp.opt("startParam"));var cD=ab(cA.endParam,cp.opt("endParam"));var cK=ab(cA.timezoneParam,cp.opt("timezoneParam"));if(cG){cE[cG]=b3.format()}if(cD){cE[cD]=b8.format()}if(cp.opt("timezone")&&cp.opt("timezone")!="local"){cE[cK]=cp.opt("timezone")}cp.pushLoading();bz.ajax(bz.extend({},L,cA,{data:cE,success:function(cQ){cQ=cQ||[];var cP=D(cM,this,arguments);if(bz.isArray(cP)){cQ=cP}cL(cQ)},error:function(){D(cI,this,arguments);cL()},complete:function(){D(cC,this,arguments);cp.popLoading()}}))}else{cL()}}}function b0(cB){var cA=cd(cB);if(cA){ck.push(cA);co([cA],"add")}}function cd(cD){var cB=C.sourceNormalizers;var cC;var cA;if(bz.isFunction(cD)||bz.isArray(cD)){cC={events:cD}}else{if(typeof cD==="string"){cC={url:cD}}else{if(typeof cD==="object"){cC=bz.extend({},cD)}}}if(cC){if(cC.className){if(typeof cC.className==="string"){cC.className=cC.className.split(/\s+/)}}else{cC.className=[]}if(bz.isArray(cC.events)){cC.origArray=cC.events;cC.events=bz.map(cC.events,function(cE){return bV(cE,cC)})}for(cA=0;cA<cB.length;cA++){cB[cA].call(cp,cC)}return cC}}function bU(cA){bX(ce(cA))}function ca(cA){if(cA==null){bX(ck,true)}else{bX(cu(cA))}}function bX(cB,cA){var cC;for(cC=0;cC<cB.length;cC++){cq(cB[cC])}if(cA){ck=[];b6=[]}else{ck=bz.grep(ck,function(cD){for(cC=0;cC<cB.length;cC++){if(cD===cB[cC]){return false}}return true});b6=bS(b6,cB)}cv()}function b4(){return ck.slice(1)}function ct(cA){return bz.grep(ck,function(cB){return cB.id&&cB.id===cA})[0]}function cu(cB){if(!cB){cB=[]}else{if(!bz.isArray(cB)){cB=[cB]}}var cA=[];var cC;for(cC=0;cC<cB.length;cC++){cA.push.apply(cA,ce(cB[cC]))}return cA}function ce(cC){var cA,cB;for(cA=0;cA<ck.length;cA++){cB=ck[cA];if(cB===cC){return[cB]}}cB=ct(cC);if(cB){return[cB]}return bz.grep(ck,function(cD){return ci(cC,cD)})}function ci(cB,cA){return cB&&cA&&b5(cB)==b5(cA)}function b5(cA){return((typeof cA==="object")?(cA.origArray||cA.googleCalendarId||cA.url||cA.events):null)||cA}function bS(cA,cB){return bz.grep(cA,function(cD){for(var cC=0;cC<cB.length;cC++){if(cD.source===cB[cC]){return false}}return true})}function cj(cA){cb([cA])}function cb(cB){var cA,cC;for(cA=0;cA<cB.length;cA++){cC=cB[cA];cC.start=cp.moment(cC.start);if(cC.end){cC.end=cp.moment(cC.end)}else{cC.end=null}bQ(cC,bR(cC))}cv()}function bR(cB){var cA={};bz.each(cB,function(cC,cD){if(cm(cC)){if(cD!==undefined&&bs(cD)){cA[cC]=cD}}});return cA}function cm(cA){return !/^_|^(id|allDay|start|end)$/.test(cA)}function b9(cB,cA){return bT([cB],cA)}function bT(cH,cA){var cB=[];var cG;var cD;var cE,cC,cF;for(cE=0;cE<cH.length;cE++){cD=bV(cH[cE]);if(cD){cG=cz(cD);for(cC=0;cC<cG.length;cC++){cF=cG[cC];if(!cF.source){if(cA){bW.events.push(cF);cF.source=bW}b6.push(cF)}}cB=cB.concat(cG)}}if(cB.length){cv()}return cB}function cw(cC){var cB;var cA;if(cC==null){cC=function(){return true}}else{if(!bz.isFunction(cC)){cB=cC+"";cC=function(cD){return cD._id==cB}}}b6=bz.grep(b6,cC,true);for(cA=0;cA<ck.length;cA++){if(bz.isArray(ck[cA].events)){ck[cA].events=bz.grep(ck[cA].events,cC,true)}}cv()}function b1(cA){if(bz.isFunction(cA)){return bz.grep(b6,cA)}else{if(cA!=null){cA+="";return bz.grep(b6,function(cB){return cB._id==cA})}}return b6}cp.rezoneArrayEventSources=function(){var cC;var cB;var cA;for(cC=0;cC<ck.length;cC++){cB=ck[cC].events;if(bz.isArray(cB)){for(cA=0;cA<cB.length;cA++){cl(cB[cA])}}}};function cl(cA){cA.start=cp.moment(cA.start);if(cA.end){cA.end=cp.moment(cA.end)}H(cA)}function bV(cB,cF){var cE=cp.opt("eventDataTransform");var cC={};var cG,cA;var cD;if(cE){cB=cE(cB)}if(cF&&cF.eventDataTransform){cB=cF.eventDataTransform(cB)}bz.extend(cC,cB);if(cF){cC.source=cF}cC._id=cB._id||(cB.id===undefined?"_fc"+a4++:cB.id+"");if(cB.className){if(typeof cB.className=="string"){cC.className=cB.className.split(/\s+/)}else{cC.className=cB.className}}else{cC.className=[]}cG=cB.start||cB.date;cA=cB.end;if(aj(cG)){cG=a9.duration(cG)}if(aj(cA)){cA=a9.duration(cA)}if(cB.dow||a9.isDuration(cG)||a9.isDuration(cA)){cC.start=cG?a9.duration(cG):null;cC.end=cA?a9.duration(cA):null;cC._recurring=true}else{if(cG){cG=cp.moment(cG);if(!cG.isValid()){return false}}if(cA){cA=cp.moment(cA);if(!cA.isValid()){cA=null}}cD=cB.allDay;if(cD===undefined){cD=ab(cF?cF.allDayDefault:undefined,cp.opt("allDayDefault"))}cf(cG,cA,cD,cC)}cp.normalizeEvent(cC);return cC}cp.buildEventFromInput=bV;function cf(cD,cA,cC,cB){cB.start=cD;cB.end=cA;cB.allDay=cC;cg(cB);H(cB)}function cg(cA){bZ(cA);if(cA.end&&!cA.end.isAfter(cA.start)){cA.end=null}if(!cA.end){if(cp.opt("forceEventDuration")){cA.end=cp.getDefaultEventEnd(cA.allDay,cA.start)}else{cA.end=null}}}function bZ(cA){if(cA.allDay==null){cA.allDay=!(cA.start.hasTime()||(cA.end&&cA.end.hasTime()))}if(cA.allDay){cA.start.stripTime();if(cA.end){cA.end.stripTime()}}else{if(!cA.start.hasTime()){cA.start=cp.applyTimezone(cA.start.time(0))}if(cA.end&&!cA.end.hasTime()){cA.end=cp.applyTimezone(cA.end.time(0))}}}function cz(cH,cK,cD){var cM=[];var cJ;var cL;var cG;var cE;var cC,cI;var cB,cF;var cA;cK=cK||b3;cD=cD||b8;if(cH){if(cH._recurring){if((cL=cH.dow)){cJ={};for(cG=0;cG<cL.length;cG++){cJ[cL[cG]]=true}}cE=cK.clone().stripTime();while(cE.isBefore(cD)){if(!cJ||cJ[cE.day()]){cC=cH.start;cI=cH.end;cB=cE.clone();cF=null;if(cC){cB=cB.time(cC)}if(cI){cF=cE.clone().time(cI)}cA=bz.extend({},cH);cf(cB,cF,!cC&&!cI,cA);cM.push(cA)}cE.add(1,"days")}}else{cM.push(cH)}}return cM}cp.expandEvent=cz;function bQ(cB,cK,cC){var cF={};var cJ;var cA;var cD;var cG;var cI;var cE;function cH(cL,cM){if(cC){return e(cL,cM,cC)}else{if(cK.allDay){return ak(cL,cM)}else{return h(cL,cM)}}}cK=cK||{};if(!cK.start){cK.start=cB.start.clone()}if(cK.end===undefined){cK.end=cB.end?cB.end.clone():null}if(cK.allDay==null){cK.allDay=cB.allDay}cg(cK);cJ={start:cB._start.clone(),end:cB._end?cB._end.clone():cp.getDefaultEventEnd(cB._allDay,cB._start),allDay:cK.allDay};cg(cJ);cA=cB._end!==null&&cK.end===null;cD=cH(cK.start,cJ.start);if(cK.end){cG=cH(cK.end,cJ.end);cI=cG.subtract(cD)}else{cI=null}bz.each(cK,function(cL,cM){if(cm(cL)){if(cM!==undefined){cF[cL]=cM}}});cE=ch(b1(cB._id),cA,cK.allDay,cD,cI,cF);return{dateDelta:cD,durationDelta:cI,undo:cE}}function ch(cE,cH,cG,cF,cC,cD){var cB=cp.getIsAmbigTimezone();var cA=[];if(cF&&!cF.valueOf()){cF=null}if(cC&&!cC.valueOf()){cC=null}bz.each(cE,function(cJ,cL){var cI;var cK;cI={start:cL.start.clone(),end:cL.end?cL.end.clone():null,allDay:cL.allDay};bz.each(cD,function(cM){cI[cM]=cL[cM]});cK={start:cL._start,end:cL._end,allDay:cG};cg(cK);if(cH){cK.end=null}else{if(cC&&!cK.end){cK.end=cp.getDefaultEventEnd(cK.allDay,cK.start)}}if(cF){cK.start.add(cF);if(cK.end){cK.end.add(cF)}}if(cC){cK.end.add(cC)}if(cB&&!cK.allDay&&(cF||cC)){cK.start.stripZone();if(cK.end){cK.end.stripZone()}}bz.extend(cL,cD,cK);H(cL);cA.push(function(){bz.extend(cL,cI);H(cL)})});return function(){for(var cI=0;cI<cA.length;cI++){cA[cI]()}}}}A.prototype.mutateSeg=function(bO,bP){return this.mutateEvent(bO.event,bP)};A.prototype.normalizeEvent=function(bO){};A.prototype.spanContainsSpan=function(bQ,bR){var bP=bQ.start.clone().stripZone();var bO=this.getEventEnd(bQ).stripZone();return bR.start>=bP&&bR.end<=bO};A.prototype.getPeerEvents=function(bS,bT){var bP=this.getEventCache();var bO=[];var bR,bQ;for(bR=0;bR<bP.length;bR++){bQ=bP[bR];if(!bT||bT._id!==bQ._id){bO.push(bQ)}}return bO};function H(bO){bO._allDay=bO.allDay;bO._start=bO.start.clone();bO._end=bO.end?bO.end.clone():null}A.prototype.isEventSpanAllowed=function(bP,bQ){var bR=bQ.source||{};var bT=this.opt("eventAllow");var bS=ab(bQ.constraint,bR.constraint,this.opt("eventConstraint"));var bO=ab(bQ.overlap,bR.overlap,this.opt("eventOverlap"));return this.isSpanAllowed(bP,bS,bO,bQ)&&(!bT||bT(bP,bQ)!==false)};A.prototype.isExternalSpanAllowed=function(bP,bS,bR){var bO;var bQ;if(bR){bO=bz.extend({},bR,bS);bQ=this.expandEvent(this.buildEventFromInput(bO))[0]}if(bQ){return this.isEventSpanAllowed(bP,bQ)}else{return this.isSelectionSpanAllowed(bP)}};A.prototype.isSelectionSpanAllowed=function(bO){var bP=this.opt("selectAllow");return this.isSpanAllowed(bO,this.opt("selectConstraint"),this.opt("selectOverlap"))&&(!bP||bP(bO)!==false)};A.prototype.isSpanAllowed=function(bX,bQ,bV,bP){var bO;var bR;var bT;var bS,bW;var bU;if(bQ!=null){bO=this.constraintToEvents(bQ);if(bO){bR=false;for(bS=0;bS<bO.length;bS++){if(this.spanContainsSpan(bO[bS],bX)){bR=true;break}}if(!bR){return false}}}bT=this.getPeerEvents(bX,bP);for(bS=0;bS<bT.length;bS++){bW=bT[bS];if(this.eventIntersectsRange(bW,bX)){if(bV===false){return false}else{if(typeof bV==="function"&&!bV(bW,bP)){return false}}if(bP){bU=ab(bW.overlap,(bW.source||{}).overlap);if(bU===false){return false}if(typeof bU==="function"&&!bU(bP,bW)){return false}}}}return true};A.prototype.constraintToEvents=function(bO){if(bO==="businessHours"){return this.getCurrentBusinessHourEvents()}if(typeof bO==="object"){if(bO.start!=null){return this.expandEvent(this.buildEventFromInput(bO))}else{return null}}return this.clientEvents(bO)};A.prototype.eventIntersectsRange=function(bR,bQ){var bP=bR.start.clone().stripZone();var bO=this.getEventEnd(bR).stripZone();return bQ.start<bO&&bQ.end>bP};var bN={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};A.prototype.getCurrentBusinessHourEvents=function(bO){return this.computeBusinessHourEvents(bO,this.opt("businessHours"))};A.prototype.computeBusinessHourEvents=function(bO,bP){if(bP===true){return this.expandBusinessHourEvents(bO,[{}])}else{if(bz.isPlainObject(bP)){return this.expandBusinessHourEvents(bO,[bP])}else{if(bz.isArray(bP)){return this.expandBusinessHourEvents(bO,bP,true)}else{return[]}}}};A.prototype.expandBusinessHourEvents=function(bO,bQ,bU){var bP=this.getView();var bT=[];var bS,bR;for(bS=0;bS<bQ.length;bS++){bR=bQ[bS];if(bU&&!bR.dow){continue}bR=bz.extend({},bN,bR);if(bO){bR.start=null;bR.end=null}bT.push.apply(bT,this.expandEvent(this.buildEventFromInput(bR),bP.activeRange.start,bP.activeRange.end))}return bT};var bw=C.BasicView=aU.extend({scroller:null,dayGridClass:bC,dayGrid:null,dayNumbersVisible:false,colWeekNumbersVisible:false,cellWeekNumbersVisible:false,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new bc({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var bO=this.dayGridClass.extend(bk);return new bO(this)},buildRenderRange:function(bO,bP){var bQ=aU.prototype.buildRenderRange.apply(this,arguments);if(/^(year|month)$/.test(bP)){bQ.start.startOf("week");if(bQ.end.weekday()){bQ.end.add(1,"week").startOf("week")}}return this.trimHiddenDays(bQ)},renderDates:function(){this.dayGrid.breakOnWeeks=/year|month|week/.test(this.currentRangeUnit);this.dayGrid.setRange(this.renderRange);this.dayNumbersVisible=this.dayGrid.rowCnt>1;if(this.opt("weekNumbers")){if(this.opt("weekNumbersWithinDays")){this.cellWeekNumbersVisible=true;this.colWeekNumbersVisible=false}else{this.cellWeekNumbersVisible=false;this.colWeekNumbersVisible=true}}this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bP=this.scroller.el.addClass("fc-day-grid-container");var bO=bz('<div class="fc-day-grid" />').appendTo(bP);this.el.find(".fc-body > tr > td").append(bP);this.dayGrid.setElement(bO);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var bO=this.opt("eventLimit");return bO&&typeof bO!=="number"},updateWidth:function(){if(this.colWeekNumbersVisible){this.weekNumberWidth=Y(this.el.find(".fc-week-number"))}},setHeight:function(bR,bO){var bP=this.opt("eventLimit");var bS;var bQ;this.scroller.clear();M(this.headRowEl);this.dayGrid.removeSegPopover();if(bP&&typeof bP==="number"){this.dayGrid.limitRows(bP)}bS=this.computeScrollerHeight(bR);this.setGridHeight(bS,bO);if(bP&&typeof bP!=="number"){this.dayGrid.limitRows(bP)}if(!bO){this.scroller.setHeight(bS);bQ=this.scroller.getScrollbarWidths();if(bQ.left||bQ.right){aw(this.headRowEl,bQ);bS=this.computeScrollerHeight(bR);this.scroller.setHeight(bS)}this.scroller.lockOverflow(bQ)}},computeScrollerHeight:function(bO){return bO-u(this.el,this.scroller.el)},setGridHeight:function(bP,bO){if(bO){o(this.dayGrid.rowEls)}else{af(this.dayGrid.rowEls,bP,true)}},computeInitialDateScroll:function(){return{top:0}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(bO){if(bO.top!==undefined){this.scroller.setScrollTop(bO.top)}},hitsNeeded:function(){this.dayGrid.hitsNeeded()},hitsNotNeeded:function(){this.dayGrid.hitsNotNeeded()},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(bP,bO){return this.dayGrid.queryHit(bP,bO)},getHitSpan:function(bO){return this.dayGrid.getHitSpan(bO)},getHitEl:function(bO){return this.dayGrid.getHitEl(bO)},renderEvents:function(bO){this.dayGrid.renderEvents(bO);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(bP,bO){return this.dayGrid.renderDrag(bP,bO)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(bO){this.dayGrid.renderSelection(bO)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}});var bk={renderHeadIntroHtml:function(){var bO=this.view;if(bO.colWeekNumbersVisible){return'<th class="fc-week-number '+bO.widgetHeaderClass+'" '+bO.weekNumberStyleAttr()+"><span>"+aM(bO.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(bQ){var bP=this.view;var bO=this.getCellDate(bQ,0);if(bP.colWeekNumbersVisible){return'<td class="fc-week-number" '+bP.weekNumberStyleAttr()+">"+bP.buildGotoAnchorHtml({date:bO,type:"week",forceOff:this.colCnt===1},bO.format("w"))+"</td>"}return""},renderBgIntroHtml:function(){var bO=this.view;if(bO.colWeekNumbersVisible){return'<td class="fc-week-number '+bO.widgetContentClass+'" '+bO.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var bO=this.view;if(bO.colWeekNumbersVisible){return'<td class="fc-week-number" '+bO.weekNumberStyleAttr()+"></td>"}return""}};var N=C.MonthView=bw.extend({buildRenderRange:function(){var bO=bw.prototype.buildRenderRange.apply(this,arguments);var bP;if(this.isFixedWeeks()){bP=Math.ceil(bO.end.diff(bO.start,"weeks",true));bO.end.add(6-bP,"weeks")}return bO},setGridHeight:function(bP,bO){if(bO){bP*=this.rowCnt/6}af(this.dayGrid.rowEls,bP,!bO)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});ae.basic={"class":bw};ae.basicDay={type:"basic",duration:{days:1}};ae.basicWeek={type:"basic",duration:{weeks:1}};ae.month={"class":N,duration:{months:1},defaults:{fixedWeekCount:true}};var bL=C.AgendaView=aU.extend({scroller:null,timeGridClass:m,timeGrid:null,dayGridClass:bC,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,usesMinMaxTime:true,initialize:function(){this.timeGrid=this.instantiateTimeGrid();if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid()}this.scroller=new bc({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var bO=this.timeGridClass.extend(bp);return new bO(this)},instantiateDayGrid:function(){var bO=this.dayGridClass.extend(bu);return new bO(this)},renderDates:function(){this.timeGrid.setRange(this.renderRange);if(this.dayGrid){this.dayGrid.setRange(this.renderRange)}this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.renderHead();this.scroller.render();var bO=this.scroller.el.addClass("fc-time-grid-container");var bP=bz('<div class="fc-time-grid" />').appendTo(bO);this.el.find(".fc-body > tr > td").append(bO);this.timeGrid.setElement(bP);this.timeGrid.renderDates();this.bottomRuleEl=bz('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.renderDates();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.unrenderDates();this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();if(this.dayGrid){this.dayGrid.renderBusinessHours()}},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();if(this.dayGrid){this.dayGrid.unrenderBusinessHours()}},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(bO){this.timeGrid.renderNowIndicator(bO)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(bO){this.timeGrid.updateSize(bO);aU.prototype.updateSize.call(this,bO)},updateWidth:function(){this.axisWidth=Y(this.el.find(".fc-axis"))},setHeight:function(bR,bO){var bP;var bS;var bQ;this.bottomRuleEl.hide();this.scroller.clear();M(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.removeSegPopover();bP=this.opt("eventLimit");if(bP&&typeof bP!=="number"){bP=a7}if(bP){this.dayGrid.limitRows(bP)}}if(!bO){bS=this.computeScrollerHeight(bR);this.scroller.setHeight(bS);bQ=this.scroller.getScrollbarWidths();if(bQ.left||bQ.right){aw(this.noScrollRowEls,bQ);bS=this.computeScrollerHeight(bR);this.scroller.setHeight(bS)}this.scroller.lockOverflow(bQ);if(this.timeGrid.getTotalSlatHeight()<bS){this.bottomRuleEl.show()}}},computeScrollerHeight:function(bO){return bO-u(this.el,this.scroller.el)},computeInitialDateScroll:function(){var bP=a9.duration(this.opt("scrollTime"));var bO=this.timeGrid.computeTimeTop(bP);bO=Math.ceil(bO);if(bO){bO++}return{top:bO}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(bO){if(bO.top!==undefined){this.scroller.setScrollTop(bO.top)}},hitsNeeded:function(){this.timeGrid.hitsNeeded();if(this.dayGrid){this.dayGrid.hitsNeeded()}},hitsNotNeeded:function(){this.timeGrid.hitsNotNeeded();if(this.dayGrid){this.dayGrid.hitsNotNeeded()}},prepareHits:function(){this.timeGrid.prepareHits();if(this.dayGrid){this.dayGrid.prepareHits()}},releaseHits:function(){this.timeGrid.releaseHits();if(this.dayGrid){this.dayGrid.releaseHits()}},queryHit:function(bQ,bP){var bO=this.timeGrid.queryHit(bQ,bP);if(!bO&&this.dayGrid){bO=this.dayGrid.queryHit(bQ,bP)}return bO},getHitSpan:function(bO){return bO.component.getHitSpan(bO)},getHitEl:function(bO){return bO.component.getHitEl(bO)},renderEvents:function(bP){var bS=[];var bQ=[];var bT=[];var bR;var bO;for(bO=0;bO<bP.length;bO++){if(bP[bO].allDay){bS.push(bP[bO])}else{bQ.push(bP[bO])}}bR=this.timeGrid.renderEvents(bQ);if(this.dayGrid){bT=this.dayGrid.renderEvents(bS)}this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();if(this.dayGrid){this.dayGrid.unrenderEvents()}},renderDrag:function(bP,bO){if(bP.start.hasTime()){return this.timeGrid.renderDrag(bP,bO)}else{if(this.dayGrid){return this.dayGrid.renderDrag(bP,bO)}}},unrenderDrag:function(){this.timeGrid.unrenderDrag();if(this.dayGrid){this.dayGrid.unrenderDrag()}},renderSelection:function(bO){if(bO.start.hasTime()||bO.end.hasTime()){this.timeGrid.renderSelection(bO)}else{if(this.dayGrid){this.dayGrid.renderSelection(bO)}}},unrenderSelection:function(){this.timeGrid.unrenderSelection();if(this.dayGrid){this.dayGrid.unrenderSelection()}}});var bp={renderHeadIntroHtml:function(){var bO=this.view;var bP;if(bO.opt("weekNumbers")){bP=this.start.format(bO.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+bO.widgetHeaderClass+'" '+bO.axisStyleAttr()+">"+bO.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},aM(bP))+"</th>"}else{return'<th class="fc-axis '+bO.widgetHeaderClass+'" '+bO.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var bO=this.view;return'<td class="fc-axis '+bO.widgetContentClass+'" '+bO.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var bO=this.view;return'<td class="fc-axis" '+bO.axisStyleAttr()+"></td>"}};var bu={renderBgIntroHtml:function(){var bO=this.view;return'<td class="fc-axis '+bO.widgetContentClass+'" '+bO.axisStyleAttr()+"><span>"+bO.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var bO=this.view;return'<td class="fc-axis" '+bO.axisStyleAttr()+"></td>"}};var a7=5;var a3=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];ae.agenda={"class":bL,defaults:{allDaySlot:true,slotDuration:"00:30:00",slotEventOverlap:true}};ae.agendaDay={type:"agenda",duration:{days:1}};ae.agendaWeek={type:"agenda",duration:{weeks:1}};var y=aU.extend({grid:null,scroller:null,initialize:function(){this.grid=new d(this);this.scroller=new bc({overflowX:"hidden",overflowY:"auto"})},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass);this.scroller.render();this.scroller.el.appendTo(this.el);this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(bP,bO){this.scroller.setHeight(this.computeScrollerHeight(bP))},computeScrollerHeight:function(bO){return bO-u(this.el,this.scroller.el)},renderDates:function(){this.grid.setRange(this.renderRange)},renderEvents:function(bO){this.grid.renderEvents(bO)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(bO){return false},isEventDraggable:function(bO){return false}});var d=aI.extend({segSelector:".fc-list-item",hasDayInteractions:false,spanToSegs:function(bT){var bR=this.view;var bQ=bR.renderRange.start.clone().time(0);var bS=0;var bP;var bO=[];while(bQ<bR.renderRange.end){bP=g(bT,{start:bQ,end:bQ.clone().add(1,"day")});if(bP){bP.dayIndex=bS;bO.push(bP)}bQ.add(1,"day");bS++;if(bP&&!bP.isEnd&&bT.end.hasTime()&&bT.end<bQ.clone().add(this.view.nextDayThreshold)){bP.end=bT.end.clone();bP.isEnd=true;break}}return bO},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(bO,bQ){var bP;aI.prototype.handleSegClick.apply(this,arguments);if(!bz(bQ.target).closest("a[href]").length){bP=bO.event.url;if(bP&&!bQ.isDefaultPrevented()){window.location.href=bP}}},renderFgSegs:function(bO){bO=this.renderFgSegEls(bO);if(!bO.length){this.renderEmptyMessage()}else{this.renderSegList(bO)}return bO},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+aM(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(bP){var bT=this.groupSegsByDay(bP);var bS;var bU;var bR;var bQ=bz('<table class="fc-list-table"><tbody/></table>');var bO=bQ.find("tbody");for(bS=0;bS<bT.length;bS++){bU=bT[bS];if(bU){bO.append(this.dayHeaderHtml(this.view.renderRange.start.clone().add(bS,"days")));this.sortEventSegs(bU);for(bR=0;bR<bU.length;bR++){bO.append(bU[bR].el)}}}this.el.empty().append(bQ)},groupSegsByDay:function(bP){var bR=[];var bQ,bO;for(bQ=0;bQ<bP.length;bQ++){bO=bP[bQ];(bR[bO.dayIndex]||(bR[bO.dayIndex]=[])).push(bO)}return bR},dayHeaderHtml:function(bO){var bP=this.view;var bQ=bP.opt("listDayFormat");var bR=bP.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+bO.format("YYYY-MM-DD")+'"><td class="'+bP.widgetHeaderClass+'" colspan="3">'+(bQ?bP.buildGotoAnchorHtml(bO,{"class":"fc-list-heading-main"},aM(bO.format(bQ))):"")+(bR?bP.buildGotoAnchorHtml(bO,{"class":"fc-list-heading-alt"},aM(bO.format(bR))):"")+"</td></tr>"},fgSegHtml:function(bP){var bO=this.view;var bR=["fc-list-item"].concat(this.getSegCustomClasses(bP));var bU=this.getSegBackgroundColor(bP);var bT=bP.event;var bQ=bT.url;var bS;if(bT.allDay){bS=bO.getAllDayHtml()}else{if(bO.isMultiDayEvent(bT)){if(bP.isStart||bP.isEnd){bS=aM(this.getEventTimeText(bP))}else{bS=bO.getAllDayHtml()}}else{bS=aM(this.getEventTimeText(bT))}}if(bQ){bR.push("fc-has-url")}return'<tr class="'+bR.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+bO.widgetContentClass+'">'+(bS||"")+"</td>":"")+'<td class="fc-list-item-marker '+bO.widgetContentClass+'"><span class="fc-event-dot"'+(bU?' style="background-color:'+bU+'"':"")+'></span></td><td class="fc-list-item-title '+bO.widgetContentClass+'"><a'+(bQ?' href="'+aM(bQ)+'"':"")+">"+aM(bP.event.title||"")+"</a></td></tr>"}});ae.list={"class":y,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}};ae.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}};ae.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}};ae.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}};ae.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}};return C});